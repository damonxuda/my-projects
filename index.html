<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0" />

    <!-- ç¤¾äº¤åª’ä½“åˆ†äº«é¢„è§ˆ -->
    <meta property="og:title" content="å­æ°æš‘å‡è¯¾ç¨‹å®‰æ’" />
    <meta property="og:description" content="2025å¹´æš‘å‡å­¦ä¹ è®¡åˆ’ï¼Œè¯¾ç¨‹å®‰æ’ä¸€ç›®äº†ç„¶ï¼Œæ”¯æŒåœ¨çº¿ç¼–è¾‘å’Œè¯¾ç¨‹æé†’" />
    <meta property="og:image" content="https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=1200&h=630&fit=crop&auto=format" />
    <meta property="og:url" content="https://damonxuda.github.io/course-schedule/" />
    <meta property="og:type" content="website" />
    
    <!-- å¾®ä¿¡åˆ†äº«ä¼˜åŒ– -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="å­æ°æš‘å‡è¯¾ç¨‹å®‰æ’" />
    <meta name="twitter:description" content="2025å¹´æš‘å‡å­¦ä¹ è®¡åˆ’ï¼Œè¯¾ç¨‹å®‰æ’ä¸€ç›®äº†ç„¶ï¼Œæ”¯æŒåœ¨çº¿ç¼–è¾‘å’Œè¯¾ç¨‹æé†’" />
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=1200&h=630&fit=crop&auto=format" />

    <!-- PWA æ”¯æŒ -->
    <meta name="theme-color" content="#667eea" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="è¯¾ç¨‹è¡¨" />
    <link
      rel="apple-touch-icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23667eea'/><text x='50' y='60' font-size='50' text-anchor='middle' fill='white'>ğŸ“š</text></svg>"
    />
    <link
      rel="manifest"
      href="data:application/json,{
        'name': 'æš‘å‡è¯¾ç¨‹æ—¥å†',
        'short_name': 'è¯¾ç¨‹è¡¨',
        'start_url': '.',
        'display': 'standalone',
        'background_color': '#667eea',
        'theme_color': '#667eea',
        'icons': [
            {
                'src': 'data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'><rect width=\\'100\\' height=\\'100\\' fill=\\'%23667eea\\'/><text x=\\'50\\' y=\\'60\\' font-size=\\'50\\' text-anchor=\\'middle\\' fill=\\'white\\'>ğŸ“š</text></svg>',
                'sizes': '192x192',
                'type': 'image/svg+xml'
            }
        ]
    }"
    />
    <title>æš‘å‡è¯¾ç¨‹æ—¥å†æé†’</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Microsoft YaHei", Arial, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
        touch-action: manipulation;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #ff6b6b, #ffa726);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 1.8rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .current-date {
        font-size: 1.3rem;
        opacity: 0.9;
      }

      .main-content {
        padding: 30px;
      }

      .today-schedule {
        background: #f8f9ff;
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 30px;
        border-left: 5px solid #667eea;
      }

      .schedule-title {
        font-size: 1.5rem;
        color: #333;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
      }

      .schedule-title::before {
        content: "ğŸ“…";
        margin-right: 10px;
        font-size: 1.8rem;
      }

      .course-item {
        background: white;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease;
      }

      .course-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .course-time {
        font-weight: bold;
        color: #ff6b6b;
        font-size: 1.1rem;
        margin-bottom: 5px;
      }

      .course-name {
        color: #333;
        font-size: 1rem;
      }

      .course-smk {
        background: #ffe066;
        border-left: 4px solid #ffd700;
      }

      .course-island {
        background: #66e0ff;
        border-left: 4px solid #00bcd4;
      }

      .course-teacher {
        background: #ff9999;
        border-left: 4px solid #f44336;
      }

      .course-english {
        background: #99ff99;
        border-left: 4px solid #4caf50;
      }

      .course-exercise {
        background: #90ee90;
        border-left: 4px solid #32cd32;
      }

      .course-homework {
        background: #ffb6c1;
        border-left: 4px solid #ff69b4;
      }

      .course-art {
        background: #ffb3e6;
        border-left: 4px solid #e91e63;
      }

      .course-other {
        background: #e0e0e0;
        border-left: 4px solid #757575;
      }

      .no-courses {
        text-align: center;
        color: #666;
        font-size: 1.2rem;
        padding: 40px;
      }

      .calendar-nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .nav-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 6px 12px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.8rem;
        transition: all 0.3s ease;
        touch-action: manipulation;
        user-select: none;
      }

      .nav-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
      }

      .nav-btn:active {
        transform: translateY(0);
      }

      .date-display {
        font-size: 1.2rem;
        font-weight: bold;
        color: #333;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 30px;
      }

      .stat-card {
        background: white;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .stat-number {
        font-size: 2rem;
        font-weight: bold;
        color: #667eea;
      }

      .stat-label {
        color: #666;
        margin-top: 5px;
      }

      .edit-toggle {
        background: linear-gradient(135deg, #ff6b6b, #ffa726);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        margin-top: 20px;
        transition: all 0.3s ease;
        user-select: none;
      }

      .edit-toggle:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
      }

      .data-info {
        background: #e3f2fd;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
        border-left: 4px solid #2196f3;
        font-size: 0.9rem;
        color: #1976d2;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ğŸ“ å­æ°æš‘å‡è¯¾ç¨‹å®‰æ’</h1>
        <div class="current-date" id="currentDate"></div>
      </div>

        <div class="calendar-nav">
          <button class="nav-btn" id="prevBtn">â† å‰ä¸€å¤©</button>
          <div class="date-display" id="displayDate"></div>
          <button class="nav-btn" id="nextBtn">åä¸€å¤© â†’</button>
        </div>

        <div class="today-schedule">
          <div class="schedule-title">ä»Šæ—¥è¯¾ç¨‹å®‰æ’</div>
          <div id="scheduleContent"></div>
        </div>

        <div class="stats">
          <div class="stat-card">
            <div class="stat-number" id="totalCourses">0</div>
            <div class="stat-label">ä»Šæ—¥è¯¾ç¨‹æ•°</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="courseHours">0</div>
            <div class="stat-label">è¯¾ç¨‹å°æ—¶æ•°</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="categoryCount">0</div>
            <div class="stat-label">è¯¾ç¨‹ç±»å‹</div>
          </div>
        </div>

        <button class="edit-toggle" onclick="handleEditClick()">
          âœï¸ ç¼–è¾‘è¯¾ç¨‹å®‰æ’
        </button>
      </div>
    </div>

    <!-- ç‹¬ç«‹çš„æ•°æ®æ¨¡å— -->
    <script>
      // ===========================================
      // æ•°æ®å±‚ - schedule-data.js
      // è¿™éƒ¨åˆ†åœ¨å®é™…é¡¹ç›®ä¸­åº”è¯¥æ˜¯ç‹¬ç«‹çš„ .js æ–‡ä»¶
      // ===========================================
      
      window.ScheduleData = {
        // è¯¾ç¨‹ç±»å‹é…ç½®
        courseTypes: {
          smk: { name: 'SMKè‹±è¯­', color: '#ffe066', borderColor: '#ffd700' },
          island: { name: 'å²›ä¸»äº”ç«', color: '#66e0ff', borderColor: '#00bcd4' },
          teacher: { name: 'æ™®è€å¸ˆåˆ·é¢˜', color: '#ff9999', borderColor: '#f44336' },
          english: { name: 'è‹±è¯­YH', color: '#99ff99', borderColor: '#4caf50' },
          exercise: { name: 'ä½“è‚²é”»ç‚¼', color: '#90ee90', borderColor: '#32cd32' },
          homework: { name: 'ä½œä¸šæ—¶é—´', color: '#ffb6c1', borderColor: '#ff69b4' },
          art: { name: 'è‰ºæœ¯è¯¾ç¨‹', color: '#ffb3e6', borderColor: '#e91e63' },
          other: { name: 'å…¶ä»–', color: '#e0e0e0', borderColor: '#757575' }
        },

        // è¯¾ç¨‹å®‰æ’æ•°æ®
        schedules: {
          // 7æœˆç¬¬ä¸€å‘¨ 6.30(å‘¨ä¸€) - 7.6(å‘¨æ—¥)
          "2025-06-30": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "19:00-21:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-01": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-02": [], // å‘¨ä¸‰ç©ºè¯¾
          "2025-07-03": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "19:00-21:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-04": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-05": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-06": [], // å‘¨æ—¥ç©ºè¯¾

          // 7æœˆç¬¬äºŒå‘¨ 7.7(å‘¨ä¸€) - 7.13(å‘¨æ—¥)
          "2025-07-07": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "19:00-21:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-08": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-09": [], // å‘¨ä¸‰ç©ºè¯¾
          "2025-07-10": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-11": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-12": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-13": [], // å‘¨æ—¥ç©ºè¯¾

          // 7æœˆç¬¬ä¸‰å‘¨ 7.14(å‘¨ä¸€) - 7.20(å‘¨æ—¥)
          "2025-07-14": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "19:00-21:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-15": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-16": [], // å‘¨ä¸‰ç©ºè¯¾
          "2025-07-17": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-18": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-19": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-20": [], // å‘¨æ—¥ç©ºè¯¾

          // 7æœˆç¬¬å››å‘¨ 7.21(å‘¨ä¸€) - 7.27(å‘¨æ—¥)
          "2025-07-21": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "19:00-21:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-22": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-23": [], // å‘¨ä¸‰ç©ºè¯¾
          "2025-07-24": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-25": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-26": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-27": [], // å‘¨æ—¥ç©ºè¯¾

          // 7æœˆç¬¬äº”å‘¨ 7.28(å‘¨ä¸€) - 8.3(å‘¨æ—¥)
          "2025-07-28": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "19:00-21:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-29": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-07-30": [], // å‘¨ä¸‰ç©ºè¯¾
          "2025-07-31": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-01": [
            { time: "12:30-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-02": [
            { time: "12:30-15:00", course: "å²›ä¸»äº”ç«", type: "island", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-03": [], // å‘¨æ—¥ç©ºè¯¾

          // 8æœˆç¬¬ä¸€å‘¨ 8.4(å‘¨ä¸€) - 8.10(å‘¨æ—¥) - 8.4è¿˜æ˜¯7æœˆæ¨¡å¼ï¼Œ8.5å¼€å§‹æ–°æ¨¡å¼
          "2025-08-04": [
            { time: "13:00-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "19:00-21:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-05": [
            { time: "9:00-11:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-06": [
            { time: "9:00-11:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-07": [
            { time: "9:00-11:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-08": [
            { time: "9:00-11:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "13:00-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-09": [
            { time: "9:00-11:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-10": [
            { time: "9:00-11:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],

          // 8æœˆç¬¬äºŒå‘¨ 8.11(å‘¨ä¸€) - 8.17(å‘¨æ—¥)
          "2025-08-11": [
            { time: "13:00-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-12": [], // å‘¨äºŒç©ºè¯¾
          "2025-08-13": [
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-14": [], // å‘¨å››ç©ºè¯¾
          "2025-08-15": [
            { time: "13:00-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-16": [], // å‘¨å…­ç©ºè¯¾
          "2025-08-17": [], // å‘¨æ—¥ç©ºè¯¾

          // 8æœˆç¬¬ä¸‰å‘¨ 8.18(å‘¨ä¸€) - 8.24(å‘¨æ—¥)
          "2025-08-18": [
            { time: "13:00-15:00", course: "è‹±è¯­SMK (1ç‚¹-3ç‚¹)", type: "smk", category: "å­¦ç§‘è¾…å¯¼" },
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-19": [], // å‘¨äºŒç©ºè¯¾
          "2025-08-20": [
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-21": [], // å‘¨å››ç©ºè¯¾
          "2025-08-22": [
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-23": [
            { time: "19:00-21:00", course: "æ™®è€å¸ˆåˆ·é¢˜A", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-24": [
            { time: "19:00-21:00", course: "å®šä½è€ƒ", type: "teacher", category: "å­¦ç§‘è¾…å¯¼" }
          ],

          // 8æœˆç¬¬å››å‘¨ 8.25(å‘¨ä¸€) - 8.31(å‘¨æ—¥)
          "2025-08-25": [
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-26": [], // å‘¨äºŒç©ºè¯¾
          "2025-08-27": [
            { time: "15:30-17:30", course: "è‹±è¯­YH", type: "english", category: "å­¦ç§‘è¾…å¯¼" }
          ],
          "2025-08-28": [], // å‘¨å››ç©ºè¯¾
          "2025-08-29": [], // å‘¨äº”ç©ºè¯¾
          "2025-08-30": [], // å‘¨å…­ç©ºè¯¾
          "2025-08-31": []  // å‘¨æ—¥ç©ºè¯¾
        },

        // è·å–æŒ‡å®šæ—¥æœŸçš„è¯¾ç¨‹å®‰æ’
        getScheduleByDate: function(dateStr) {
          return this.schedules[dateStr] || [];
        },

        // è·å–è¯¾ç¨‹ç±»å‹ä¿¡æ¯
        getCourseType: function(type) {
          return this.courseTypes[type] || this.courseTypes.other;
        },

        // è·å–æ•°æ®ç»Ÿè®¡ä¿¡æ¯
        getDataInfo: function() {
          var totalDays = Object.keys(this.schedules).length;
          var daysWithCourses = 0;
          var totalCourses = 0;
          
          for (var date in this.schedules) {
            var daySchedule = this.schedules[date];
            if (daySchedule.length > 0) {
              daysWithCourses++;
            }
            totalCourses += daySchedule.length;
          }
          
          return {
            totalDays: totalDays,
            daysWithCourses: daysWithCourses,
            totalCourses: totalCourses,
            dataVersion: '2025.6.23',
            lastUpdate: '2025å¹´6æœˆ23æ—¥'
          };
        }
      };
    </script>

    <!-- ä¸»ç¨‹åºè„šæœ¬ -->
    <script>
      // ===========================================
      // åŠŸèƒ½å±‚ - app.js
      // è¿™éƒ¨åˆ†åœ¨å®é™…é¡¹ç›®ä¸­åº”è¯¥æ˜¯ç‹¬ç«‹çš„ .js æ–‡ä»¶
      // ===========================================
      
      var currentDate = new Date();
      var longPressTimer = null;
      var longPressInterval = null;
      var touchStartTime = 0;
      var touchEndTime = 0;
      var isLongPress = false;
      var mouseStartTime = 0;
      var mouseEndTime = 0;
      var isMouseLongPress = false;

      function formatDate(date) {
        var year = date.getFullYear();
        var month = date.getMonth() + 1;
        var day = date.getDate();
        return year + "-" + (month < 10 ? "0" + month : month) + "-" + (day < 10 ? "0" + day : day);
      }

      function formatDisplayDate(date) {
        var weekdays = ["å‘¨æ—¥", "å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”", "å‘¨å…­"];
        var year = date.getFullYear();
        var month = date.getMonth() + 1;
        var day = date.getDate();
        var weekday = weekdays[date.getDay()];
        return year + "å¹´" + month + "æœˆ" + day + "æ—¥ " + weekday;
      }

      function updateDisplay() {
        try {
          var dateStr = formatDate(currentDate);
          var displayStr = formatDisplayDate(currentDate);
          var todayStr = formatDisplayDate(new Date());

          var currentDateEl = document.getElementById("currentDate");
          var displayDateEl = document.getElementById("displayDate");
          
          if (currentDateEl) {
            currentDateEl.innerHTML = todayStr;
          }
          if (displayDateEl) {
            displayDateEl.innerHTML = displayStr;
          }

          // ä½¿ç”¨æ•°æ®æ¨¡å—è·å–è¯¾ç¨‹ä¿¡æ¯
          var courses = window.ScheduleData.getScheduleByDate(dateStr);
          var scheduleContent = document.getElementById("scheduleContent");

          if (scheduleContent) {
            if (courses.length === 0) {
              scheduleContent.innerHTML = '<div class="no-courses">ğŸ‰ ä»Šå¤©æ²¡æœ‰å®‰æ’è¯¾ç¨‹ï¼Œå¯ä»¥å¥½å¥½ä¼‘æ¯å“¦ï¼</div>';
            } else {
              var html = "";
              for (var i = 0; i < courses.length; i++) {
                var course = courses[i];
                html += '<div class="course-item course-' + course.type + '">' +
                        '<div class="course-time">' + course.time + '</div>' +
                        '<div class="course-name">' + course.course + '</div>' +
                        '</div>';
              }
              scheduleContent.innerHTML = html;
            }
          }

          updateStats(courses);
        } catch (e) {
          console.log("Display update error:", e);
        }
      }

      function updateStats(courses) {
        try {
          var totalCoursesEl = document.getElementById("totalCourses");
          var courseHoursEl = document.getElementById("courseHours");
          var categoryCountEl = document.getElementById("categoryCount");

          if (totalCoursesEl) {
            totalCoursesEl.innerHTML = courses.length;
          }

          var totalHours = 0;
          for (var i = 0; i < courses.length; i++) {
            var course = courses[i];
            var timeMatch = course.time.match(/(\d+):(\d+)-(\d+):(\d+)/);
            if (timeMatch) {
              var startHour = parseInt(timeMatch[1]);
              var startMin = parseInt(timeMatch[2]);
              var endHour = parseInt(timeMatch[3]);
              var endMin = parseInt(timeMatch[4]);
              var hours = (endHour * 60 + endMin - startHour * 60 - startMin) / 60;
              totalHours += hours;
            }
          }
          
          if (courseHoursEl) {
            courseHoursEl.innerHTML = totalHours.toFixed(1);
          }

          var categories = [];
          for (var i = 0; i < courses.length; i++) {
            var category = courses[i].category || "å­¦ç§‘è¾…å¯¼";
            if (categories.indexOf(category) === -1) {
              categories.push(category);
            }
          }
          
          if (categoryCountEl) {
            categoryCountEl.innerHTML = categories.length;
          }
        } catch (e) {
          console.log("Stats update error:", e);
        }
      }

      function changeDate(days) {
        currentDate.setDate(currentDate.getDate() + days);
        updateDisplay();
      }

      function handleMouseStart(direction) {
        mouseStartTime = new Date().getTime();
        isMouseLongPress = false;
        
        longPressTimer = setTimeout(function() {
          isMouseLongPress = true;
          changeDate(direction);
          longPressInterval = setInterval(function() {
            changeDate(direction);
          }, 200);
        }, 600);
      }

      function handleMouseEnd(direction) {
        mouseEndTime = new Date().getTime();
        var mouseDuration = mouseEndTime - mouseStartTime;
        
        if (longPressTimer) {
          clearTimeout(longPressTimer);
          longPressTimer = null;
        }
        if (longPressInterval) {
          clearInterval(longPressInterval);
          longPressInterval = null;
        }
        
        if (mouseDuration < 600 && !isMouseLongPress) {
          changeDate(direction);
        }
        
        isMouseLongPress = false;
      }

      function handleTouchStart(direction) {
        touchStartTime = new Date().getTime();
        isLongPress = false;
        
        longPressTimer = setTimeout(function() {
          isLongPress = true;
          changeDate(direction);
          longPressInterval = setInterval(function() {
            changeDate(direction);
          }, 200);
        }, 600);
      }

      function handleTouchEnd(direction) {
        touchEndTime = new Date().getTime();
        var touchDuration = touchEndTime - touchStartTime;
        
        if (longPressTimer) {
          clearTimeout(longPressTimer);
          longPressTimer = null;
        }
        if (longPressInterval) {
          clearInterval(longPressInterval);
          longPressInterval = null;
        }
        
        if (touchDuration < 600 && !isLongPress) {
          changeDate(direction);
        }
        
        isLongPress = false;
      }

      function preventTouchDefault(e) {
        e.preventDefault();
        e.stopPropagation();
      }

      function handleEditClick() {
        alert('ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­\n\næ•°æ®å±‚ä¸åŠŸèƒ½å±‚å·²åˆ†ç¦»ï¼š\n- ä¿®æ”¹è¯¾ç¨‹æ•°æ®ï¼šç¼–è¾‘ ScheduleData.schedules\n- ä¿®æ”¹ç•Œé¢åŠŸèƒ½ï¼šç¼–è¾‘ä¸»ç¨‹åºä»£ç \n\nè¿™æ ·ä¾¿äºç‹¬ç«‹ç»´æŠ¤ï¼');
      }

      function bindEvents() {
        var prevBtn = document.getElementById('prevBtn');
        var nextBtn = document.getElementById('nextBtn');

        if (prevBtn) {
          prevBtn.addEventListener('mousedown', function(e) {
            e.preventDefault();
            handleMouseStart(-1);
          }, false);
          
          prevBtn.addEventListener('mouseup', function(e) {
            e.preventDefault();
            handleMouseEnd(-1);
          }, false);
          
          prevBtn.addEventListener('mouseleave', function(e) {
            e.preventDefault();
            handleMouseEnd(-1);
          }, false);
          
          prevBtn.addEventListener('touchstart', function(e) {
            preventTouchDefault(e);
            handleTouchStart(-1);
          }, false);
          
          prevBtn.addEventListener('touchend', function(e) {
            preventTouchDefault(e);
            handleTouchEnd(-1);
          }, false);
          
          prevBtn.addEventListener('touchcancel', function(e) {
            preventTouchDefault(e);
            handleTouchEnd(-1);
          }, false);
        }

        if (nextBtn) {
          nextBtn.addEventListener('mousedown', function(e) {
            e.preventDefault();
            handleMouseStart(1);
          }, false);
          
          nextBtn.addEventListener('mouseup', function(e) {
            e.preventDefault();
            handleMouseEnd(1);
          }, false);
          
          nextBtn.addEventListener('mouseleave', function(e) {
            e.preventDefault();
            handleMouseEnd(1);
          }, false);
          
          nextBtn.addEventListener('touchstart', function(e) {
            preventTouchDefault(e);
            handleTouchStart(1);
          }, false);
          
          nextBtn.addEventListener('touchend', function(e) {
            preventTouchDefault(e);
            handleTouchEnd(1);
          }, false);
          
          nextBtn.addEventListener('touchcancel', function(e) {
            preventTouchDefault(e);
            handleTouchEnd(1);
          }, false);
        }
      }

      function init() {
        try {
          updateDisplay();
          bindEvents();
          
          // æ˜¾ç¤ºæ•°æ®ç»Ÿè®¡ä¿¡æ¯
          var dataInfo = window.ScheduleData.getDataInfo();
          console.log('è¯¾ç¨‹æ•°æ®åŠ è½½å®Œæˆ:', dataInfo);
        } catch (e) {
          console.log("Init error:", e);
          setTimeout(function() {
            updateDisplay();
            bindEvents();
          }, 100);
        }
      }

      // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    </script>
  </body>
</html>
