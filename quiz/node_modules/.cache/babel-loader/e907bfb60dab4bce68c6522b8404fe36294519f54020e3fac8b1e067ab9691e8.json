{"ast":null,"code":"var _jsxFileName = \"/Users/damonxu/Documents/GitHub/my-projects/quiz/src/components/auth/Login.js\",\n  _s = $RefreshSig$();\n// src/components/auth/Login.js\nimport React, { useState } from 'react';\nimport { useAuth } from '../../contexts/AuthProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [showResetPassword, setShowResetPassword] = useState(false);\n  const {\n    signIn,\n    signUp,\n    resetPassword\n  } = useAuth();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n\n    // 表单验证\n    if (!email || !password) {\n      setMessage('请填写所有必填字段');\n      setLoading(false);\n      return;\n    }\n    if (!isLogin && password !== confirmPassword) {\n      setMessage('两次输入的密码不一致');\n      setLoading(false);\n      return;\n    }\n    if (!isLogin && password.length < 6) {\n      setMessage('密码至少需要6位字符');\n      setLoading(false);\n      return;\n    }\n    try {\n      if (isLogin) {\n        // 登录\n        const {\n          error\n        } = await signIn(email, password);\n        if (error) {\n          if (error.message.includes('Invalid login credentials')) {\n            setMessage('邮箱或密码错误');\n          } else if (error.message.includes('Email not confirmed')) {\n            setMessage('请先验证您的邮箱');\n          } else {\n            setMessage(`登录失败: ${error.message}`);\n          }\n        }\n      } else {\n        // 注册\n        const {\n          data,\n          error\n        } = await signUp(email, password);\n        if (error) {\n          if (error.message.includes('User already registered')) {\n            setMessage('该邮箱已被注册');\n          } else {\n            setMessage(`注册失败: ${error.message}`);\n          }\n        } else if (data.user) {\n          setMessage('注册成功！请检查您的邮箱并点击验证链接。');\n        }\n      }\n    } catch (error) {\n      setMessage(`操作失败: ${error.message}`);\n    }\n    setLoading(false);\n  };\n  const handleResetPassword = async e => {\n    e.preventDefault();\n    if (!email) {\n      setMessage('请输入您的邮箱地址');\n      return;\n    }\n    setLoading(true);\n    const {\n      error\n    } = await resetPassword(email);\n    if (error) {\n      setMessage(`发送重置邮件失败: ${error.message}`);\n    } else {\n      setMessage('密码重置邮件已发送，请检查您的邮箱');\n    }\n    setLoading(false);\n    setShowResetPassword(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sm:mx-auto sm:w-full sm:max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mt-6 text-center text-3xl font-extrabold text-gray-900\",\n        children: showResetPassword ? '重置密码' : isLogin ? '登录到题库系统' : '注册新账户'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), !showResetPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-center text-sm text-gray-600\",\n        children: [isLogin ? '还没有账户？' : '已有账户？', /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setIsLogin(!isLogin),\n          className: \"font-medium text-blue-600 hover:text-blue-500 ml-1\",\n          children: isLogin ? '立即注册' : '立即登录'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 sm:mx-auto sm:w-full sm:max-w-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\",\n        children: showResetPassword ?\n        /*#__PURE__*/\n        // 密码重置表单\n        _jsxDEV(\"form\", {\n          onSubmit: handleResetPassword,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"\\u90AE\\u7BB1\\u5730\\u5740\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"email\",\n                name: \"email\",\n                type: \"email\",\n                autoComplete: \"email\",\n                required: true,\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: \"\\u8F93\\u5165\\u60A8\\u7684\\u90AE\\u7BB1\\u5730\\u5740\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",\n              children: loading ? '发送中...' : '发送重置邮件'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowResetPassword(false),\n              className: \"text-sm text-blue-600 hover:text-blue-500\",\n              children: \"\\u8FD4\\u56DE\\u767B\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // 登录/注册表单\n        _jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"\\u90AE\\u7BB1\\u5730\\u5740 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"email\",\n                name: \"email\",\n                type: \"email\",\n                autoComplete: \"email\",\n                required: true,\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: \"\\u8F93\\u5165\\u60A8\\u7684\\u90AE\\u7BB1\\u5730\\u5740\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"\\u5BC6\\u7801 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"password\",\n                name: \"password\",\n                type: \"password\",\n                autoComplete: isLogin ? \"current-password\" : \"new-password\",\n                required: true,\n                value: password,\n                onChange: e => setPassword(e.target.value),\n                className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: isLogin ? \"输入密码\" : \"设置密码（至少6位）\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), !isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"confirmPassword\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"\\u786E\\u8BA4\\u5BC6\\u7801 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"confirmPassword\",\n                name: \"confirmPassword\",\n                type: \"password\",\n                autoComplete: \"new-password\",\n                required: true,\n                value: confirmPassword,\n                onChange: e => setConfirmPassword(e.target.value),\n                className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: \"\\u518D\\u6B21\\u8F93\\u5165\\u5BC6\\u7801\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-sm p-3 rounded ${message.includes('成功') || message.includes('已发送') ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",\n              children: loading ? isLogin ? '登录中...' : '注册中...' : isLogin ? '登录' : '注册'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowResetPassword(true),\n              className: \"text-sm text-blue-600 hover:text-blue-500\",\n              children: \"\\u5FD8\\u8BB0\\u5BC6\\u7801\\uFF1F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this), !isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 text-center\",\n            children: [\"\\u6CE8\\u518C\\u5373\\u8868\\u793A\\u60A8\\u540C\\u610F\\u6211\\u4EEC\\u7684\\u670D\\u52A1\\u6761\\u6B3E\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 35\n            }, this), \"\\u6CE8\\u518C\\u540E\\u9700\\u8981\\u7BA1\\u7406\\u5458\\u5BA1\\u6279\\u624D\\u80FD\\u4F7F\\u7528\\u7CFB\\u7EDF\\u3002\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"EWp5ADwwFpOo9NLc/8sWIMHY5h8=\", false, function () {\n  return [useAuth];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useAuth","jsxDEV","_jsxDEV","Login","_s","isLogin","setIsLogin","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","message","setMessage","showResetPassword","setShowResetPassword","signIn","signUp","resetPassword","handleSubmit","e","preventDefault","length","error","includes","data","user","handleResetPassword","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","onSubmit","htmlFor","id","name","autoComplete","required","value","onChange","target","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/damonxu/Documents/GitHub/my-projects/quiz/src/components/auth/Login.js"],"sourcesContent":["// src/components/auth/Login.js\nimport React, { useState } from 'react';\nimport { useAuth } from '../../contexts/AuthProvider';\n\nconst Login = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [showResetPassword, setShowResetPassword] = useState(false);\n\n  const { signIn, signUp, resetPassword } = useAuth();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n\n    // 表单验证\n    if (!email || !password) {\n      setMessage('请填写所有必填字段');\n      setLoading(false);\n      return;\n    }\n\n    if (!isLogin && password !== confirmPassword) {\n      setMessage('两次输入的密码不一致');\n      setLoading(false);\n      return;\n    }\n\n    if (!isLogin && password.length < 6) {\n      setMessage('密码至少需要6位字符');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      if (isLogin) {\n        // 登录\n        const { error } = await signIn(email, password);\n        if (error) {\n          if (error.message.includes('Invalid login credentials')) {\n            setMessage('邮箱或密码错误');\n          } else if (error.message.includes('Email not confirmed')) {\n            setMessage('请先验证您的邮箱');\n          } else {\n            setMessage(`登录失败: ${error.message}`);\n          }\n        }\n      } else {\n        // 注册\n        const { data, error } = await signUp(email, password);\n        if (error) {\n          if (error.message.includes('User already registered')) {\n            setMessage('该邮箱已被注册');\n          } else {\n            setMessage(`注册失败: ${error.message}`);\n          }\n        } else if (data.user) {\n          setMessage('注册成功！请检查您的邮箱并点击验证链接。');\n        }\n      }\n    } catch (error) {\n      setMessage(`操作失败: ${error.message}`);\n    }\n\n    setLoading(false);\n  };\n\n  const handleResetPassword = async (e) => {\n    e.preventDefault();\n    if (!email) {\n      setMessage('请输入您的邮箱地址');\n      return;\n    }\n\n    setLoading(true);\n    const { error } = await resetPassword(email);\n    \n    if (error) {\n      setMessage(`发送重置邮件失败: ${error.message}`);\n    } else {\n      setMessage('密码重置邮件已发送，请检查您的邮箱');\n    }\n    \n    setLoading(false);\n    setShowResetPassword(false);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n          {showResetPassword ? '重置密码' : isLogin ? '登录到题库系统' : '注册新账户'}\n        </h2>\n        {!showResetPassword && (\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            {isLogin ? '还没有账户？' : '已有账户？'}\n            <button\n              type=\"button\"\n              onClick={() => setIsLogin(!isLogin)}\n              className=\"font-medium text-blue-600 hover:text-blue-500 ml-1\"\n            >\n              {isLogin ? '立即注册' : '立即登录'}\n            </button>\n          </p>\n        )}\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          {showResetPassword ? (\n            // 密码重置表单\n            <form onSubmit={handleResetPassword} className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                  邮箱地址\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    autoComplete=\"email\"\n                    required\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"输入您的邮箱地址\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                >\n                  {loading ? '发送中...' : '发送重置邮件'}\n                </button>\n              </div>\n\n              <div className=\"text-center\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowResetPassword(false)}\n                  className=\"text-sm text-blue-600 hover:text-blue-500\"\n                >\n                  返回登录\n                </button>\n              </div>\n            </form>\n          ) : (\n            // 登录/注册表单\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                  邮箱地址 *\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    autoComplete=\"email\"\n                    required\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"输入您的邮箱地址\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                  密码 *\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    autoComplete={isLogin ? \"current-password\" : \"new-password\"}\n                    required\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder={isLogin ? \"输入密码\" : \"设置密码（至少6位）\"}\n                  />\n                </div>\n              </div>\n\n              {!isLogin && (\n                <div>\n                  <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700\">\n                    确认密码 *\n                  </label>\n                  <div className=\"mt-1\">\n                    <input\n                      id=\"confirmPassword\"\n                      name=\"confirmPassword\"\n                      type=\"password\"\n                      autoComplete=\"new-password\"\n                      required\n                      value={confirmPassword}\n                      onChange={(e) => setConfirmPassword(e.target.value)}\n                      className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"再次输入密码\"\n                    />\n                  </div>\n                </div>\n              )}\n\n              {message && (\n                <div className={`text-sm p-3 rounded ${message.includes('成功') || message.includes('已发送') \n                  ? 'bg-green-100 text-green-800' \n                  : 'bg-red-100 text-red-800'\n                }`}>\n                  {message}\n                </div>\n              )}\n\n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                >\n                  {loading ? (isLogin ? '登录中...' : '注册中...') : (isLogin ? '登录' : '注册')}\n                </button>\n              </div>\n\n              {isLogin && (\n                <div className=\"text-center\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowResetPassword(true)}\n                    className=\"text-sm text-blue-600 hover:text-blue-500\"\n                  >\n                    忘记密码？\n                  </button>\n                </div>\n              )}\n\n              {!isLogin && (\n                <div className=\"text-xs text-gray-500 text-center\">\n                  注册即表示您同意我们的服务条款。<br />\n                  注册后需要管理员审批才能使用系统。\n                </div>\n              )}\n            </form>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}