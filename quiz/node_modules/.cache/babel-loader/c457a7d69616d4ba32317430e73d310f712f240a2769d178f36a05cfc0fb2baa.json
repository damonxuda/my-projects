{"ast":null,"code":"// src/components/QuestionInput/ImportForm.js\n// 智能导入表单组件\nimport React,{useState}from'react';import{Check,X,Edit2,AlertCircle,FileText}from'lucide-react';import LabelEditor from'./LabelEditor';import{parseMarkdownQuestions,validateParseResult,detectDuplicates}from'../../utils/markdownParser';import databaseService from'../../services/DatabaseService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ImportForm=_ref=>{let{onImport,existingQuestions,onClose}=_ref;const[importText,setImportText]=useState('');const[baseTags,setBaseTags]=useState([]);const[showLabelEditor,setShowLabelEditor]=useState(false);const[isProcessing,setIsProcessing]=useState(false);const[previewResults,setPreviewResults]=useState(null);const handleTagsConfirmed=tags=>{setBaseTags(tags);setShowLabelEditor(false);};const handlePreview=()=>{if(!importText.trim()){alert('请先输入markdown内容');return;}if(baseTags.length===0){alert('请先设置课程标签');return;}setIsProcessing(true);try{// 解析markdown\nconst parsed=parseMarkdownQuestions(importText,baseTags);// 验证解析结果\nconst validation=validateParseResult(parsed);// 检测重复\nconst duplicationCheck=detectDuplicates(parsed,existingQuestions);setPreviewResults({questions:duplicationCheck.uniqueQuestions,validation,duplicates:duplicationCheck.duplicates,totalParsed:parsed.length,uniqueCount:duplicationCheck.uniqueCount,duplicateCount:duplicationCheck.duplicateCount});}catch(error){console.error('解析失败:',error);alert('解析失败: '+error.message);}finally{setIsProcessing(false);}};const handleImport=async()=>{if(!previewResults||previewResults.uniqueCount===0){alert('没有可导入的题目');return;}setIsProcessing(true);try{const{questions}=previewResults;const savedQuestions=[];// 保存到数据库\nfor(const question of questions){const{data,error}=await databaseService.insertQuestion(question);if(error)throw new Error(error);savedQuestions.push(data);}// 更新UI\nonImport(prev=>[...prev,...savedQuestions]);// 重置状态\nsetImportText('');setBaseTags([]);setPreviewResults(null);alert(\"\\u6210\\u529F\\u5BFC\\u5165 \".concat(savedQuestions.length,\" \\u9053\\u9898\\u76EE\\uFF01\"));onClose();}catch(error){console.error('导入失败:',error);alert('导入失败: '+error.message);}finally{setIsProcessing(false);}};const resetForm=()=>{setImportText('');setBaseTags([]);setPreviewResults(null);setShowLabelEditor(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-6 rounded-lg space-y-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-blue-800 mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{size:20}),\"\\u667A\\u80FD\\u5BFC\\u5165 - AI\\u89E3\\u6790\\u6587\\u6863\"]}),showLabelEditor?/*#__PURE__*/_jsx(LabelEditor,{onConfirm:handleTagsConfirmed,onCancel:()=>setShowLabelEditor(false),initialTags:baseTags}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[baseTags.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"text-yellow-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-yellow-800\",children:\"\\u8BF7\\u5148\\u8BBE\\u7F6E\\u8BFE\\u7A0B\\u6807\\u7B7E\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowLabelEditor(true),className:\"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Edit2,{size:16}),\"\\u8BBE\\u7F6E\\u8BFE\\u7A0B\\u6807\\u7B7E\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\u5DF2\\u8BBE\\u7F6E\\u7684\\u6807\\u7B7E\\uFF1A\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowLabelEditor(true),className:\"text-purple-600 hover:text-purple-700 text-sm flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Edit2,{size:14}),\"\\u4FEE\\u6539\\u6807\\u7B7E\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:baseTags.map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:tag},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u7C98\\u8D34markdown\\u6587\\u6863\\u5185\\u5BB9\"}),/*#__PURE__*/_jsx(\"textarea\",{value:importText,onChange:e=>setImportText(e.target.value),rows:12,className:\"w-full p-3 border border-gray-300 rounded-lg font-mono text-sm\",placeholder:\"\\u7C98\\u8D34AI\\u89E3\\u6790\\u7684markdown\\u6587\\u6863\\u5185\\u5BB9\\uFF0C\\u652F\\u6301\\u4EE5\\u4E0B\\u683C\\u5F0F\\uFF1A\\n## \\u4F8B1. \\u9898\\u76EE\\u5185\\u5BB9\\n\\u9898\\u76EE\\u63CF\\u8FF0... ### \\u89E3\\u9898\\u601D\\u8DEF\\n\\u89E3\\u9898\\u6B65\\u9AA4... **\\u6700\\u7EC8\\u7B54\\u6848: \\u7B54\\u6848\\u5185\\u5BB9** ## \\u4F8B2. \\u4E0B\\u4E00\\u9053\\u9898\\u76EE...\",disabled:isProcessing})]}),previewResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg border\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-800 mb-3\",children:\"\\uD83D\\uDCCA \\u89E3\\u6790\\u9884\\u89C8\\u7ED3\\u679C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:previewResults.totalParsed}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"\\u89E3\\u6790\\u603B\\u6570\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:previewResults.uniqueCount}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"\\u53EF\\u5BFC\\u5165\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-orange-600\",children:previewResults.duplicateCount}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"\\u91CD\\u590D\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:previewResults.validation.statistics.withAnswers}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"\\u6709\\u7B54\\u6848\"})]})]}),Object.keys(previewResults.validation.statistics.byType).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-700 mb-2\",children:\"\\u9898\\u76EE\\u7C7B\\u578B\\u5206\\u5E03\\uFF1A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:Object.entries(previewResults.validation.statistics.byType).map(_ref2=>{let[type,count]=_ref2;return/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:[type,\": \",count,\"\\u9053\"]},type);})})]}),previewResults.validation.issues.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 p-3 rounded mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-yellow-800 mb-2\",children:\"\\u26A0\\uFE0F \\u53D1\\u73B0\\u95EE\\u9898\\uFF1A\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-yellow-700 space-y-1\",children:previewResults.validation.issues.map((issue,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",issue]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[!previewResults?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePreview,className:\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",disabled:!importText.trim()||baseTags.length===0||isProcessing,children:isProcessing?'解析中...':'预览解析结果'}),/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,className:\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg\",children:\"\\u91CD\\u7F6E\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleImport,className:\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",disabled:previewResults.uniqueCount===0||isProcessing,children:[/*#__PURE__*/_jsx(Check,{size:16}),isProcessing?'导入中...':\"\\u786E\\u8BA4\\u5BFC\\u5165 \".concat(previewResults.uniqueCount,\" \\u9053\\u9898\\u76EE\")]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPreviewResults(null),className:\"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg\",children:\"\\u91CD\\u65B0\\u89E3\\u6790\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClose,className:\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(X,{size:16}),\"\\u53D6\\u6D88\"]})]})]})]});};export default ImportForm;","map":{"version":3,"names":["React","useState","Check","X","Edit2","AlertCircle","FileText","LabelEditor","parseMarkdownQuestions","validateParseResult","detectDuplicates","databaseService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImportForm","_ref","onImport","existingQuestions","onClose","importText","setImportText","baseTags","setBaseTags","showLabelEditor","setShowLabelEditor","isProcessing","setIsProcessing","previewResults","setPreviewResults","handleTagsConfirmed","tags","handlePreview","trim","alert","length","parsed","validation","duplicationCheck","questions","uniqueQuestions","duplicates","totalParsed","uniqueCount","duplicateCount","error","console","message","handleImport","savedQuestions","question","data","insertQuestion","Error","push","prev","concat","resetForm","className","children","size","onConfirm","onCancel","initialTags","onClick","map","tag","index","value","onChange","e","target","rows","placeholder","disabled","statistics","withAnswers","Object","keys","byType","entries","_ref2","type","count","issues","issue"],"sources":["/Users/damonxu/Documents/GitHub/my-projects/quiz/src/components/QuestionInput/ImportForm.js"],"sourcesContent":["// src/components/QuestionInput/ImportForm.js\n// 智能导入表单组件\n\nimport React, { useState } from 'react';\nimport { Check, X, Edit2, AlertCircle, FileText } from 'lucide-react';\nimport LabelEditor from './LabelEditor';\nimport { parseMarkdownQuestions, validateParseResult, detectDuplicates } from '../../utils/markdownParser';\nimport databaseService from '../../services/DatabaseService';\n\nconst ImportForm = ({ onImport, existingQuestions, onClose }) => {\n  const [importText, setImportText] = useState('');\n  const [baseTags, setBaseTags] = useState([]);\n  const [showLabelEditor, setShowLabelEditor] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [previewResults, setPreviewResults] = useState(null);\n\n  const handleTagsConfirmed = (tags) => {\n    setBaseTags(tags);\n    setShowLabelEditor(false);\n  };\n\n  const handlePreview = () => {\n    if (!importText.trim()) {\n      alert('请先输入markdown内容');\n      return;\n    }\n\n    if (baseTags.length === 0) {\n      alert('请先设置课程标签');\n      return;\n    }\n\n    setIsProcessing(true);\n    \n    try {\n      // 解析markdown\n      const parsed = parseMarkdownQuestions(importText, baseTags);\n      \n      // 验证解析结果\n      const validation = validateParseResult(parsed);\n      \n      // 检测重复\n      const duplicationCheck = detectDuplicates(parsed, existingQuestions);\n      \n      setPreviewResults({\n        questions: duplicationCheck.uniqueQuestions,\n        validation,\n        duplicates: duplicationCheck.duplicates,\n        totalParsed: parsed.length,\n        uniqueCount: duplicationCheck.uniqueCount,\n        duplicateCount: duplicationCheck.duplicateCount\n      });\n    } catch (error) {\n      console.error('解析失败:', error);\n      alert('解析失败: ' + error.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleImport = async () => {\n    if (!previewResults || previewResults.uniqueCount === 0) {\n      alert('没有可导入的题目');\n      return;\n    }\n\n    setIsProcessing(true);\n    \n    try {\n      const { questions } = previewResults;\n      const savedQuestions = [];\n\n      // 保存到数据库\n      for (const question of questions) {\n        const { data, error } = await databaseService.insertQuestion(question);\n        if (error) throw new Error(error);\n        savedQuestions.push(data);\n      }\n\n      // 更新UI\n      onImport(prev => [...prev, ...savedQuestions]);\n      \n      // 重置状态\n      setImportText('');\n      setBaseTags([]);\n      setPreviewResults(null);\n      \n      alert(`成功导入 ${savedQuestions.length} 道题目！`);\n      onClose();\n    } catch (error) {\n      console.error('导入失败:', error);\n      alert('导入失败: ' + error.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const resetForm = () => {\n    setImportText('');\n    setBaseTags([]);\n    setPreviewResults(null);\n    setShowLabelEditor(false);\n  };\n\n  return (\n    <div className=\"bg-blue-50 p-6 rounded-lg space-y-4\">\n      <h3 className=\"text-lg font-semibold text-blue-800 mb-4 flex items-center gap-2\">\n        <FileText size={20} />\n        智能导入 - AI解析文档\n      </h3>\n\n      {/* 标签编辑器 */}\n      {showLabelEditor ? (\n        <LabelEditor\n          onConfirm={handleTagsConfirmed}\n          onCancel={() => setShowLabelEditor(false)}\n          initialTags={baseTags}\n        />\n      ) : (\n        <div className=\"space-y-4\">\n          {/* 标签状态显示 */}\n          {baseTags.length === 0 ? (\n            <div className=\"bg-yellow-50 border border-yellow-200 p-4 rounded-lg\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <AlertCircle size={16} className=\"text-yellow-600\" />\n                <span className=\"font-medium text-yellow-800\">请先设置课程标签</span>\n              </div>\n              <button\n                onClick={() => setShowLabelEditor(true)}\n                className=\"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n              >\n                <Edit2 size={16} />\n                设置课程标签\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-white p-4 rounded-lg border\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"font-medium text-gray-700\">已设置的标签：</span>\n                <button\n                  onClick={() => setShowLabelEditor(true)}\n                  className=\"text-purple-600 hover:text-purple-700 text-sm flex items-center gap-1\"\n                >\n                  <Edit2 size={14} />\n                  修改标签\n                </button>\n              </div>\n              <div className=\"flex flex-wrap gap-1\">\n                {baseTags.map((tag, index) => (\n                  <span\n                    key={index}\n                    className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\"\n                  >\n                    {tag}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Markdown输入 */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              粘贴markdown文档内容\n            </label>\n            <textarea\n              value={importText}\n              onChange={(e) => setImportText(e.target.value)}\n              rows={12}\n              className=\"w-full p-3 border border-gray-300 rounded-lg font-mono text-sm\"\n              placeholder=\"粘贴AI解析的markdown文档内容，支持以下格式：\n## 例1. 题目内容\n题目描述...\n\n### 解题思路\n解题步骤...\n\n**最终答案: 答案内容**\n\n## 例2. 下一道题目...\"\n              disabled={isProcessing}\n            />\n          </div>\n\n          {/* 预览结果 */}\n          {previewResults && (\n            <div className=\"bg-white p-4 rounded-lg border\">\n              <h4 className=\"font-medium text-gray-800 mb-3\">📊 解析预览结果</h4>\n              \n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-blue-600\">\n                    {previewResults.totalParsed}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">解析总数</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-green-600\">\n                    {previewResults.uniqueCount}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">可导入</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-orange-600\">\n                    {previewResults.duplicateCount}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">重复</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-purple-600\">\n                    {previewResults.validation.statistics.withAnswers}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">有答案</div>\n                </div>\n              </div>\n\n              {/* 题目类型统计 */}\n              {Object.keys(previewResults.validation.statistics.byType).length > 0 && (\n                <div className=\"mb-4\">\n                  <h5 className=\"font-medium text-gray-700 mb-2\">题目类型分布：</h5>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {Object.entries(previewResults.validation.statistics.byType).map(([type, count]) => (\n                      <span key={type} className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                        {type}: {count}道\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* 警告信息 */}\n              {previewResults.validation.issues.length > 0 && (\n                <div className=\"bg-yellow-50 border border-yellow-200 p-3 rounded mb-4\">\n                  <h5 className=\"font-medium text-yellow-800 mb-2\">⚠️ 发现问题：</h5>\n                  <ul className=\"text-sm text-yellow-700 space-y-1\">\n                    {previewResults.validation.issues.map((issue, index) => (\n                      <li key={index}>• {issue}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* 操作按钮 */}\n          <div className=\"flex gap-2\">\n            {!previewResults ? (\n              <>\n                <button\n                  onClick={handlePreview}\n                  className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n                  disabled={!importText.trim() || baseTags.length === 0 || isProcessing}\n                >\n                  {isProcessing ? '解析中...' : '预览解析结果'}\n                </button>\n                <button\n                  onClick={resetForm}\n                  className=\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg\"\n                >\n                  重置\n                </button>\n              </>\n            ) : (\n              <>\n                <button\n                  onClick={handleImport}\n                  className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n                  disabled={previewResults.uniqueCount === 0 || isProcessing}\n                >\n                  <Check size={16} />\n                  {isProcessing ? '导入中...' : `确认导入 ${previewResults.uniqueCount} 道题目`}\n                </button>\n                <button\n                  onClick={() => setPreviewResults(null)}\n                  className=\"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg\"\n                >\n                  重新解析\n                </button>\n              </>\n            )}\n            \n            <button\n              onClick={onClose}\n              className=\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n            >\n              <X size={16} />\n              取消\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ImportForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}