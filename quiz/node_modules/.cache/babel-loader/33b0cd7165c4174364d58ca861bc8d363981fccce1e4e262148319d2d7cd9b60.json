{"ast":null,"code":"import React,{useState}from'react';import{Check,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManualForm=_ref=>{let{onSubmit,onCancel,categories,questionTypes}=_ref;const[newQuestion,setNewQuestion]=useState({tags:[],questionType:'例1',category:'计数',questionText:'',answer:'',solutionSteps:''});const handleSubmit=()=>{if(!newQuestion.questionText.trim()){alert('请输入题目内容！');return;}// 构建标签数组\nconst tags=[];if(newQuestion.category){tags.push(newQuestion.category);}const questionToSubmit={...newQuestion,tags:[...tags,...newQuestion.tags],createdAt:new Date().toISOString()};onSubmit(questionToSubmit);// 重置表单\nsetNewQuestion({tags:[],questionType:'例1',category:'计数',questionText:'',answer:'',solutionSteps:''});};const addCustomTag=()=>{const tagInput=prompt('请输入自定义标签:');if(tagInput&&tagInput.trim()){setNewQuestion({...newQuestion,tags:[...newQuestion.tags,tagInput.trim()]});}};const removeTag=index=>{const newTags=newQuestion.tags.filter((_,i)=>i!==index);setNewQuestion({...newQuestion,tags:newTags});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u270F\\uFE0F \\u624B\\u52A8\\u6DFB\\u52A0\\u9898\\u76EE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u9898\\u76EE\\u7C7B\\u578B\"}),/*#__PURE__*/_jsx(\"select\",{value:newQuestion.questionType,onChange:e=>setNewQuestion({...newQuestion,questionType:e.target.value}),className:\"w-full p-2 border border-gray-300 rounded-lg\",children:questionTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u5206\\u7C7B\"}),/*#__PURE__*/_jsx(\"select\",{value:newQuestion.category,onChange:e=>setNewQuestion({...newQuestion,category:e.target.value}),className:\"w-full p-2 border border-gray-300 rounded-lg\",children:categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u81EA\\u5B9A\\u4E49\\u6807\\u7B7E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 mb-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:addCustomTag,className:\"text-blue-500 hover:text-blue-700 text-sm px-3 py-1 border border-blue-300 rounded\",children:\"+ \\u6DFB\\u52A0\\u6807\\u7B7E\"})}),newQuestion.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:newQuestion.tags.map((tag,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center gap-1\",children:[tag,/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeTag(index),className:\"text-blue-600 hover:text-blue-800\",children:/*#__PURE__*/_jsx(X,{size:14})})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u9898\\u76EE\\u5185\\u5BB9\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newQuestion.questionText,onChange:e=>setNewQuestion({...newQuestion,questionText:e.target.value}),rows:4,className:\"w-full p-2 border border-gray-300 rounded-lg\",placeholder:\"\\u8F93\\u5165\\u9898\\u76EE\\u6587\\u5B57...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u53C2\\u8003\\u7B54\\u6848\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newQuestion.answer,onChange:e=>setNewQuestion({...newQuestion,answer:e.target.value}),rows:3,className:\"w-full p-2 border border-gray-300 rounded-lg\",placeholder:\"\\u8F93\\u5165\\u53C2\\u8003\\u7B54\\u6848...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u89E3\\u9898\\u601D\\u8DEF\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newQuestion.solutionSteps,onChange:e=>setNewQuestion({...newQuestion,solutionSteps:e.target.value}),rows:4,className:\"w-full p-2 border border-gray-300 rounded-lg\",placeholder:\"\\u8BE6\\u7EC6\\u7684\\u89E3\\u9898\\u6B65\\u9AA4\\u548C\\u601D\\u8DEF...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSubmit,className:\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Check,{size:16}),\"\\u4FDD\\u5B58\\u5230\\u6570\\u636E\\u5E93\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onCancel,className:\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(X,{size:16}),\"\\u53D6\\u6D88\"]})]})]});};export default ManualForm;","map":{"version":3,"names":["React","useState","Check","X","jsx","_jsx","jsxs","_jsxs","ManualForm","_ref","onSubmit","onCancel","categories","questionTypes","newQuestion","setNewQuestion","tags","questionType","category","questionText","answer","solutionSteps","handleSubmit","trim","alert","push","questionToSubmit","createdAt","Date","toISOString","addCustomTag","tagInput","prompt","removeTag","index","newTags","filter","_","i","className","children","value","onChange","e","target","map","type","cat","onClick","length","tag","size","rows","placeholder"],"sources":["/Users/damonxu/Documents/GitHub/my-projects/quiz/src/components/QuestionInput/ManualForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Check, X } from 'lucide-react';\n\nconst ManualForm = ({ onSubmit, onCancel, categories, questionTypes }) => {\n  const [newQuestion, setNewQuestion] = useState({\n    tags: [],\n    questionType: '例1',\n    category: '计数',\n    questionText: '',\n    answer: '',\n    solutionSteps: ''\n  });\n\n  const handleSubmit = () => {\n    if (!newQuestion.questionText.trim()) {\n      alert('请输入题目内容！');\n      return;\n    }\n\n    // 构建标签数组\n    const tags = [];\n    if (newQuestion.category) {\n      tags.push(newQuestion.category);\n    }\n    \n    const questionToSubmit = {\n      ...newQuestion,\n      tags: [...tags, ...newQuestion.tags],\n      createdAt: new Date().toISOString()\n    };\n    \n    onSubmit(questionToSubmit);\n    \n    // 重置表单\n    setNewQuestion({\n      tags: [],\n      questionType: '例1',\n      category: '计数',\n      questionText: '',\n      answer: '',\n      solutionSteps: ''\n    });\n  };\n\n  const addCustomTag = () => {\n    const tagInput = prompt('请输入自定义标签:');\n    if (tagInput && tagInput.trim()) {\n      setNewQuestion({\n        ...newQuestion,\n        tags: [...newQuestion.tags, tagInput.trim()]\n      });\n    }\n  };\n\n  const removeTag = (index) => {\n    const newTags = newQuestion.tags.filter((_, i) => i !== index);\n    setNewQuestion({ ...newQuestion, tags: newTags });\n  };\n\n  return (\n    <div className=\"bg-gray-50 p-6 rounded-lg mb-6\">\n      <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">✏️ 手动添加题目</h3>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">题目类型</label>\n          <select\n            value={newQuestion.questionType}\n            onChange={(e) => setNewQuestion({...newQuestion, questionType: e.target.value})}\n            className=\"w-full p-2 border border-gray-300 rounded-lg\"\n          >\n            {questionTypes.map(type => (\n              <option key={type} value={type}>{type}</option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">分类</label>\n          <select\n            value={newQuestion.category}\n            onChange={(e) => setNewQuestion({...newQuestion, category: e.target.value})}\n            className=\"w-full p-2 border border-gray-300 rounded-lg\"\n          >\n            {categories.map(cat => (\n              <option key={cat} value={cat}>{cat}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* 自定义标签 */}\n      <div className=\"mb-4\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">自定义标签</label>\n        <div className=\"flex gap-2 mb-2\">\n          <button\n            onClick={addCustomTag}\n            className=\"text-blue-500 hover:text-blue-700 text-sm px-3 py-1 border border-blue-300 rounded\"\n          >\n            + 添加标签\n          </button>\n        </div>\n        {newQuestion.tags.length > 0 && (\n          <div className=\"flex flex-wrap gap-2\">\n            {newQuestion.tags.map((tag, index) => (\n              <span\n                key={index}\n                className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center gap-1\"\n              >\n                {tag}\n                <button\n                  onClick={() => removeTag(index)}\n                  className=\"text-blue-600 hover:text-blue-800\"\n                >\n                  <X size={14} />\n                </button>\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n      \n      <div className=\"mb-4\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">题目内容</label>\n        <textarea\n          value={newQuestion.questionText}\n          onChange={(e) => setNewQuestion({...newQuestion, questionText: e.target.value})}\n          rows={4}\n          className=\"w-full p-2 border border-gray-300 rounded-lg\"\n          placeholder=\"输入题目文字...\"\n        />\n      </div>\n      \n      <div className=\"mb-4\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">参考答案</label>\n        <textarea\n          value={newQuestion.answer}\n          onChange={(e) => setNewQuestion({...newQuestion, answer: e.target.value})}\n          rows={3}\n          className=\"w-full p-2 border border-gray-300 rounded-lg\"\n          placeholder=\"输入参考答案...\"\n        />\n      </div>\n      \n      <div className=\"mb-4\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">解题思路</label>\n        <textarea\n          value={newQuestion.solutionSteps}\n          onChange={(e) => setNewQuestion({...newQuestion, solutionSteps: e.target.value})}\n          rows={4}\n          className=\"w-full p-2 border border-gray-300 rounded-lg\"\n          placeholder=\"详细的解题步骤和思路...\"\n        />\n      </div>\n      \n      <div className=\"flex gap-2\">\n        <button\n          onClick={handleSubmit}\n          className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n        >\n          <Check size={16} />\n          保存到数据库\n        </button>\n        <button\n          onClick={onCancel}\n          className=\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n        >\n          <X size={16} />\n          取消\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ManualForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}