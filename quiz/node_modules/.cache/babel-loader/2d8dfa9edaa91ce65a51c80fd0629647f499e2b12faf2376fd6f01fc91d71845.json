{"ast":null,"code":"// src/utils/markdownParser.js\n// MarkdownËß£ÊûêÂºïÊìé - ‰∏ìÈó®Ëß£ÊûêAIÁîüÊàêÁöÑÈ¢òÁõÆÊñáÊ°£\nimport{MARKDOWN_PATTERNS,QUESTION_TYPES}from'./constants.js';/**\n * Ëß£ÊûêMarkdownÊñáÊ°£ÔºåÊèêÂèñÈ¢òÁõÆ‰ø°ÊÅØ\n * @param {string} markdownText - MarkdownÊñáÊ°£ÂÜÖÂÆπ\n * @param {string[]} baseTags - Âü∫Á°ÄÊ†áÁ≠æÔºàËØæÁ®ã‰ø°ÊÅØÔºâ\n * @returns {Object[]} - Ëß£ÊûêÂá∫ÁöÑÈ¢òÁõÆÊï∞ÁªÑ\n */export const parseMarkdownQuestions=function(markdownText){let baseTags=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];console.log('üìñ ÂºÄÂßãËß£ÊûêMarkdownÊñáÊ°£');console.log('üìù ÊñáÊ°£ÈïøÂ∫¶:',markdownText.length);console.log('üè∑Ô∏è Âü∫Á°ÄÊ†áÁ≠æ:',baseTags);if(!markdownText||typeof markdownText!=='string'){console.warn('‚ùå ËæìÂÖ•ÊñáÊ°£‰∏∫Á©∫ÊàñÊ†ºÂºèÈîôËØØ');return[];}const lines=markdownText.split('\\n');const questions=[];let currentQuestion=null;let currentSection='question';// question, solution, answer\nlet lineNumber=0;console.log(`üìÑ ÊÄªË°åÊï∞: ${lines.length}`);for(const line of lines){lineNumber++;const trimmedLine=line.trim();// Ë∑≥ËøáÁ©∫Ë°å\nif(!trimmedLine)continue;// Ê£ÄÊü•ÊòØÂê¶ÊòØÊñ∞È¢òÁõÆÂºÄÂßã\nconst questionMatch=matchQuestionPattern(trimmedLine);if(questionMatch){// ‰øùÂ≠ò‰∏ä‰∏ÄÈÅìÈ¢òÁõÆ\nif(currentQuestion&&isValidQuestion(currentQuestion)){const processedQuestion=processQuestion(currentQuestion,baseTags);questions.push(processedQuestion);console.log(`‚úÖ ÂÆåÊàêÈ¢òÁõÆ: ${processedQuestion.questionType}`);}// ÂºÄÂßãÊñ∞È¢òÁõÆ\nconsole.log(`üÜï ÂèëÁé∞Êñ∞È¢òÁõÆ: ${questionMatch.type} (Ë°å ${lineNumber})`);currentQuestion={questionType:questionMatch.type,questionText:questionMatch.content||'',answer:'',solutionSteps:'',rawLine:trimmedLine,startLine:lineNumber};currentSection='question';continue;}// Â¶ÇÊûúÊ≤°ÊúâÂΩìÂâçÈ¢òÁõÆÔºåË∑≥ËøáËøôË°å\nif(!currentQuestion)continue;// Ê£ÄÊü•Ëß£È¢òÊÄùË∑ØÊ†áËØÜ\nif(isSolutionSection(trimmedLine)){console.log(`üí° ËøõÂÖ•Ëß£È¢òÊÄùË∑ØÈÉ®ÂàÜ (Ë°å ${lineNumber})`);currentSection='solution';continue;}// Ê£ÄÊü•Á≠îÊ°àÊ†áËØÜ\nconst answerMatch=matchAnswerPattern(trimmedLine);if(answerMatch){console.log(`‚úÖ ÊâæÂà∞Á≠îÊ°à (Ë°å ${lineNumber}): ${answerMatch.substring(0,50)}...`);currentQuestion.answer=answerMatch;continue;}// Â§ÑÁêÜÊôÆÈÄöÂÜÖÂÆπË°å\nif(isContentLine(trimmedLine)){processContentLine(currentQuestion,trimmedLine,currentSection);}}// Â§ÑÁêÜÊúÄÂêé‰∏ÄÈÅìÈ¢òÁõÆ\nif(currentQuestion&&isValidQuestion(currentQuestion)){const processedQuestion=processQuestion(currentQuestion,baseTags);questions.push(processedQuestion);console.log(`‚úÖ ÂÆåÊàêÊúÄÂêé‰∏ÄÈ¢ò: ${processedQuestion.questionType}`);}console.log(`üéâ Ëß£ÊûêÂÆåÊàê! ÂÖ±Ëß£ÊûêÂá∫ ${questions.length} ÈÅìÈ¢òÁõÆ`);return questions;};/**\n * ÂåπÈÖçÈ¢òÁõÆÊ®°Âºè\n */const matchQuestionPattern=line=>{for(const pattern of MARKDOWN_PATTERNS.questionPatterns){const match=line.match(pattern);if(match){return{type:match[1],// ‰æã1, ‰π†È¢ò1Á≠â\ncontent:match[2]||'',// È¢òÁõÆÂÜÖÂÆπ\nfullMatch:match[0]};}}return null;};/**\n * ÂåπÈÖçÁ≠îÊ°àÊ®°Âºè\n */const matchAnswerPattern=line=>{for(const pattern of MARKDOWN_PATTERNS.answerPatterns){const match=line.match(pattern);if(match){return match[1].replace(/\\*+/g,'').trim();}}return null;};/**\n * Ê£ÄÊü•ÊòØÂê¶ÊòØËß£È¢òÊÄùË∑ØÈÉ®ÂàÜ\n */const isSolutionSection=line=>{return MARKDOWN_PATTERNS.solutionKeywords.some(keyword=>line.includes(keyword));};/**\n * Ê£ÄÊü•ÊòØÂê¶ÊòØÊúâÊïàÁöÑÂÜÖÂÆπË°å\n */const isContentLine=line=>{// ÊéíÈô§MarkdownÊ†áËÆ∞Ë°å\nconst excludePatterns=[/^#+\\s/,// Ê†áÈ¢òË°å\n/^-{3,}$/,// ÂàÜÈöîÁ∫ø\n/^\\*{3,}$/,// ÂàÜÈöîÁ∫ø\n/^={3,}$/,// ÂàÜÈöîÁ∫ø\n/^\\s*$/// Á©∫Ë°å\n];return!excludePatterns.some(pattern=>pattern.test(line))&&line.length>2;};/**\n * Â§ÑÁêÜÂÜÖÂÆπË°å\n */const processContentLine=(question,line,section)=>{if(section==='solution'){question.solutionSteps+=line+'\\n';}else if(section==='question'){// Â¶ÇÊûúÈ¢òÁõÆÊñáÂ≠ó‰∏∫Á©∫ÔºåËøôÊòØÁ¨¨‰∏ÄË°å\nif(!question.questionText||question.questionText.trim()===''){question.questionText=line;}else{// Âê¶ÂàôËøΩÂä†Âà∞È¢òÁõÆÂÜÖÂÆπÔºàÁî®Á©∫Ê†ºËøûÊé•Ôºâ\nquestion.questionText+=' '+line;}}};/**\n * È™åËØÅÈ¢òÁõÆÊòØÂê¶ÊúâÊïà\n */const isValidQuestion=question=>{const hasValidType=QUESTION_TYPES.includes(question.questionType);const hasContent=question.questionText&&question.questionText.trim().length>5;if(!hasValidType){console.warn(`‚ö†Ô∏è Êó†ÊïàÁöÑÈ¢òÁõÆÁ±ªÂûã: ${question.questionType}`);}if(!hasContent){console.warn(`‚ö†Ô∏è È¢òÁõÆÂÜÖÂÆπËøáÁü≠Êàñ‰∏∫Á©∫: ${question.questionText}`);}return hasValidType&&hasContent;};/**\n * Â§ÑÁêÜÈ¢òÁõÆÔºåÊ∑ªÂä†Âü∫Á°Ä‰ø°ÊÅØ\n */const processQuestion=(rawQuestion,baseTags)=>{return{questionType:rawQuestion.questionType,questionText:cleanText(rawQuestion.questionText),answer:cleanText(rawQuestion.answer),solutionSteps:cleanText(rawQuestion.solutionSteps),tags:[...baseTags],// ‰ΩøÁî®‰º†ÂÖ•ÁöÑÂü∫Á°ÄÊ†áÁ≠æ\ncreatedAt:new Date().toISOString(),metadata:{parsedAt:new Date().toISOString(),startLine:rawQuestion.startLine,originalLength:rawQuestion.questionText.length}};};/**\n * Ê∏ÖÁêÜÊñáÊú¨ÂÜÖÂÆπ\n */const cleanText=text=>{if(!text||typeof text!=='string')return'';return text.trim()// ÂéªÈô§È¶ñÂ∞æÁ©∫Ê†º\n.replace(/\\*+/g,'')// ÂéªÈô§MarkdownÁ≤ó‰ΩìÊ†áËÆ∞\n.replace(/_{2,}/g,'')// ÂéªÈô§‰∏ãÂàíÁ∫ø\n.replace(/\\s+/g,' ')// ÂêàÂπ∂Â§ö‰∏™Á©∫Ê†º\n.replace(/\\n\\s*\\n/g,'\\n')// ÂêàÂπ∂Â§ö‰∏™Êç¢Ë°å\n.trim();};/**\n * È™åËØÅËß£ÊûêÁªìÊûú\n */export const validateParseResult=questions=>{const validation={isValid:true,totalQuestions:questions.length,issues:[],statistics:{byType:{},averageLength:0,withAnswers:0,withSolutions:0}};let totalLength=0;questions.forEach((question,index)=>{// ÁªüËÆ°È¢òÁõÆÁ±ªÂûã\nvalidation.statistics.byType[question.questionType]=(validation.statistics.byType[question.questionType]||0)+1;// ÁªüËÆ°ÈïøÂ∫¶\ntotalLength+=question.questionText.length;// ÁªüËÆ°Á≠îÊ°àÂíåËß£È¢òÊÄùË∑Ø\nif(question.answer&&question.answer.trim()){validation.statistics.withAnswers++;}if(question.solutionSteps&&question.solutionSteps.trim()){validation.statistics.withSolutions++;}// Ê£ÄÊü•ÈóÆÈ¢ò\nif(question.questionText.length<10){validation.issues.push(`È¢òÁõÆ ${index+1} ÂÜÖÂÆπËøáÁü≠`);}if(!question.answer||!question.answer.trim()){validation.issues.push(`È¢òÁõÆ ${index+1} Áº∫Â∞ëÁ≠îÊ°à`);}if(question.tags.length===0){validation.issues.push(`È¢òÁõÆ ${index+1} Áº∫Â∞ëÊ†áÁ≠æ`);}});validation.statistics.averageLength=questions.length>0?Math.round(totalLength/questions.length):0;validation.isValid=validation.issues.length===0;return validation;};/**\n * ÁîüÊàêËß£ÊûêÊä•Âëä\n */export const generateParseReport=(questions,originalText)=>{const validation=validateParseResult(questions);const report={timestamp:new Date().toISOString(),input:{originalLength:originalText.length,lineCount:originalText.split('\\n').length},output:{questionCount:questions.length,successRate:questions.length>0?'100%':'0%'},validation,recommendations:[]};// ÁîüÊàêÂª∫ËÆÆ\nif(validation.statistics.withAnswers<questions.length){report.recommendations.push('Âª∫ËÆÆ‰∏∫ÊâÄÊúâÈ¢òÁõÆÊ∑ªÂä†Ê†áÂáÜÁ≠îÊ°à');}if(validation.statistics.withSolutions<questions.length*0.8){report.recommendations.push('Âª∫ËÆÆ‰∏∫Êõ¥Â§öÈ¢òÁõÆÊ∑ªÂä†Ëß£È¢òÊÄùË∑Ø');}if(validation.issues.length>0){report.recommendations.push('ËØ∑Ê£ÄÊü•Âπ∂‰øÆÂ§çÂèëÁé∞ÁöÑÈóÆÈ¢ò');}return report;};/**\n * ÂØºÂá∫Ëß£ÊûêÁªüËÆ°\n */export const getParseStatistics=questions=>{const stats={total:questions.length,byType:{},byCategory:{},quality:{withAnswers:0,withSolutions:0,averageTextLength:0,averageAnswerLength:0}};let totalTextLength=0;let totalAnswerLength=0;questions.forEach(question=>{// ÊåâÁ±ªÂûãÁªüËÆ°\nstats.byType[question.questionType]=(stats.byType[question.questionType]||0)+1;// ÊåâÂàÜÁ±ªÁªüËÆ°\nconst categories=question.tags.filter(tag=>['ËÆ°ÁÆó','ËÆ°Êï∞','Âá†‰Ωï','Êï∞ËÆ∫','Â∫îÁî®È¢ò','Ë°åÁ®ã','ÁªÑÂêà'].includes(tag));categories.forEach(category=>{stats.byCategory[category]=(stats.byCategory[category]||0)+1;});// Ë¥®ÈáèÁªüËÆ°\ntotalTextLength+=question.questionText.length;if(question.answer){stats.quality.withAnswers++;totalAnswerLength+=question.answer.length;}if(question.solutionSteps&&question.solutionSteps.trim()){stats.quality.withSolutions++;}});stats.quality.averageTextLength=questions.length>0?Math.round(totalTextLength/questions.length):0;stats.quality.averageAnswerLength=stats.quality.withAnswers>0?Math.round(totalAnswerLength/stats.quality.withAnswers):0;return stats;};/**\n * Ê£ÄÊµãÈáçÂ§çÈ¢òÁõÆ\n */export const detectDuplicates=(newQuestions,existingQuestions)=>{const duplicates=[];const uniqueQuestions=[];newQuestions.forEach((newQ,index)=>{const isExisting=existingQuestions.some(existingQ=>isSimilarQuestion(newQ,existingQ));const isDuplicateInBatch=uniqueQuestions.some(uniqueQ=>isSimilarQuestion(newQ,uniqueQ));if(isExisting||isDuplicateInBatch){duplicates.push({index,question:newQ,reason:isExisting?'exists_in_database':'duplicate_in_batch'});}else{uniqueQuestions.push(newQ);}});return{duplicates,uniqueQuestions,duplicateCount:duplicates.length,uniqueCount:uniqueQuestions.length};};/**\n * Âà§Êñ≠‰∏§‰∏™È¢òÁõÆÊòØÂê¶Áõ∏‰ºº\n */const isSimilarQuestion=(q1,q2)=>{// ÁÆÄÂçïÁöÑÁõ∏‰ººÂ∫¶Ê£ÄÊµãÔºöÊØîËæÉÈ¢òÁõÆÂºÄÂ§¥30‰∏™Â≠óÁ¨¶\nconst text1=q1.questionText.substring(0,30).replace(/\\s+/g,'');const text2=q2.questionText.substring(0,30).replace(/\\s+/g,'');return text1===text2;};/**\n * È¢ÑÂ§ÑÁêÜMarkdownÊñáÊ°£\n */export const preprocessMarkdown=markdownText=>{if(!markdownText||typeof markdownText!=='string'){return'';}return markdownText// Áªü‰∏ÄÊç¢Ë°åÁ¨¶\n.replace(/\\r\\n/g,'\\n').replace(/\\r/g,'\\n')// Ê∏ÖÁêÜÂ§ö‰ΩôÁöÑÁ©∫Ë°å\n.replace(/\\n{3,}/g,'\\n\\n')// Áªü‰∏ÄÊ†áÈ¢òÊ†ºÂºè\n.replace(/^#+\\s*/gm,'## ')// Ê∏ÖÁêÜË°åÈ¶ñÁ©∫Ê†º\n.replace(/^\\s+/gm,'')// Ê∏ÖÁêÜË°åÂ∞æÁ©∫Ê†º\n.replace(/\\s+$/gm,'').trim();};/**\n * ÊèêÂèñÊñáÊ°£ÂÖÉ‰ø°ÊÅØ\n */export const extractDocumentMeta=markdownText=>{const meta={hasQuestions:false,questionCount:0,hasAnswers:false,hasSolutions:false,estimatedProcessingTime:0,detectedPatterns:[]};if(!markdownText)return meta;// Ê£ÄÊµãÈ¢òÁõÆÊ®°Âºè\nMARKDOWN_PATTERNS.questionPatterns.forEach((pattern,index)=>{const matches=markdownText.match(new RegExp(pattern.source,'gm'));if(matches&&matches.length>0){meta.hasQuestions=true;meta.questionCount=Math.max(meta.questionCount,matches.length);meta.detectedPatterns.push({pattern:index,matches:matches.length,examples:matches.slice(0,3)});}});// Ê£ÄÊµãÁ≠îÊ°à\nMARKDOWN_PATTERNS.answerPatterns.forEach(pattern=>{const matches=markdownText.match(new RegExp(pattern.source,'gm'));if(matches&&matches.length>0){meta.hasAnswers=true;}});// Ê£ÄÊµãËß£È¢òÊÄùË∑Ø\nmeta.hasSolutions=MARKDOWN_PATTERNS.solutionKeywords.some(keyword=>markdownText.includes(keyword));// ‰º∞ÁÆóÂ§ÑÁêÜÊó∂Èó¥ÔºàÊØ´ÁßíÔºâ\nmeta.estimatedProcessingTime=Math.max(100,markdownText.length/100);return meta;};/**\n * ‰øÆÂ§çÂ∏∏ËßÅÁöÑÊ†ºÂºèÈóÆÈ¢ò\n */export const fixCommonFormatIssues=markdownText=>{return markdownText// ‰øÆÂ§çÈ¢òÁõÆÁºñÂè∑Ê†ºÂºè\n.replace(/‰æã(\\d+)[\\.ÔºéÔºö:]/g,'‰æã$1. ').replace(/‰π†È¢ò(\\d+)[\\.ÔºéÔºö:]/g,'‰π†È¢ò$1. ')// ‰øÆÂ§çÁ≠îÊ°àÊ†ºÂºè\n.replace(/Á≠îÊ°à[Ôºö:]\\s*/g,'Á≠îÊ°à: ').replace(/ÊúÄÁªàÁ≠îÊ°à[Ôºö:]\\s*/g,'ÊúÄÁªàÁ≠îÊ°à: ')// ‰øÆÂ§çÊ†áÈ¢òÊ†ºÂºè\n.replace(/^([‰æã‰π†]\\d+[\\.ÔºéÔºö:].*)/gm,'## $1')// ‰øÆÂ§çËß£È¢òÊÄùË∑ØÊ†ºÂºè\n.replace(/Ëß£È¢òÊÄùË∑Ø[Ôºö:]?\\s*/g,'### Ëß£È¢òÊÄùË∑Ø\\n')// ‰øÆÂ§ç‰∏≠ÊñáÊ†áÁÇπ\n.replace(/Ôºå\\s*/g,'Ôºå').replace(/„ÄÇ\\s*/g,'„ÄÇ').replace(/Ôºõ\\s*/g,'Ôºõ')// Ê∏ÖÁêÜÂ§ö‰ΩôÁ©∫Ê†º\n.replace(/\\s+/g,' ').replace(/\\n\\s+/g,'\\n');};/**\n * Êô∫ËÉΩÂàÜÊÆµÂ§ÑÁêÜ\n */export const intelligentSegmentation=markdownText=>{const segments=[];const lines=markdownText.split('\\n');let currentSegment=[];let segmentType='unknown';lines.forEach(line=>{const trimmedLine=line.trim();if(!trimmedLine){if(currentSegment.length>0){currentSegment.push('');}return;}// Ê£ÄÊµãÊñ∞ÁöÑÈ¢òÁõÆÊÆµËêΩ\nconst isQuestionStart=matchQuestionPattern(trimmedLine);if(isQuestionStart){// ‰øùÂ≠òÂΩìÂâçÊÆµËêΩ\nif(currentSegment.length>0){segments.push({type:segmentType,content:currentSegment.join('\\n'),lineCount:currentSegment.length});}// ÂºÄÂßãÊñ∞ÊÆµËêΩ\ncurrentSegment=[trimmedLine];segmentType='question';return;}// Ê∑ªÂä†Âà∞ÂΩìÂâçÊÆµËêΩ\ncurrentSegment.push(trimmedLine);});// ‰øùÂ≠òÊúÄÂêé‰∏Ä‰∏™ÊÆµËêΩ\nif(currentSegment.length>0){segments.push({type:segmentType,content:currentSegment.join('\\n'),lineCount:currentSegment.length});}return segments;};","map":{"version":3,"names":["MARKDOWN_PATTERNS","QUESTION_TYPES","parseMarkdownQuestions","markdownText","baseTags","arguments","length","undefined","console","log","warn","lines","split","questions","currentQuestion","currentSection","lineNumber","line","trimmedLine","trim","questionMatch","matchQuestionPattern","isValidQuestion","processedQuestion","processQuestion","push","questionType","type","questionText","content","answer","solutionSteps","rawLine","startLine","isSolutionSection","answerMatch","matchAnswerPattern","substring","isContentLine","processContentLine","pattern","questionPatterns","match","fullMatch","answerPatterns","replace","solutionKeywords","some","keyword","includes","excludePatterns","test","question","section","hasValidType","hasContent","rawQuestion","cleanText","tags","createdAt","Date","toISOString","metadata","parsedAt","originalLength","text","validateParseResult","validation","isValid","totalQuestions","issues","statistics","byType","averageLength","withAnswers","withSolutions","totalLength","forEach","index","Math","round","generateParseReport","originalText","report","timestamp","input","lineCount","output","questionCount","successRate","recommendations","getParseStatistics","stats","total","byCategory","quality","averageTextLength","averageAnswerLength","totalTextLength","totalAnswerLength","categories","filter","tag","category","detectDuplicates","newQuestions","existingQuestions","duplicates","uniqueQuestions","newQ","isExisting","existingQ","isSimilarQuestion","isDuplicateInBatch","uniqueQ","reason","duplicateCount","uniqueCount","q1","q2","text1","text2","preprocessMarkdown","extractDocumentMeta","meta","hasQuestions","hasAnswers","hasSolutions","estimatedProcessingTime","detectedPatterns","matches","RegExp","source","max","examples","slice","fixCommonFormatIssues","intelligentSegmentation","segments","currentSegment","segmentType","isQuestionStart","join"],"sources":["/Users/damonxu/Documents/GitHub/my-projects/quiz/src/utils/markdownParser.js"],"sourcesContent":["// src/utils/markdownParser.js\n// MarkdownËß£ÊûêÂºïÊìé - ‰∏ìÈó®Ëß£ÊûêAIÁîüÊàêÁöÑÈ¢òÁõÆÊñáÊ°£\n\nimport { MARKDOWN_PATTERNS, QUESTION_TYPES } from './constants.js';\n\n/**\n * Ëß£ÊûêMarkdownÊñáÊ°£ÔºåÊèêÂèñÈ¢òÁõÆ‰ø°ÊÅØ\n * @param {string} markdownText - MarkdownÊñáÊ°£ÂÜÖÂÆπ\n * @param {string[]} baseTags - Âü∫Á°ÄÊ†áÁ≠æÔºàËØæÁ®ã‰ø°ÊÅØÔºâ\n * @returns {Object[]} - Ëß£ÊûêÂá∫ÁöÑÈ¢òÁõÆÊï∞ÁªÑ\n */\nexport const parseMarkdownQuestions = (markdownText, baseTags = []) => {\n  console.log('üìñ ÂºÄÂßãËß£ÊûêMarkdownÊñáÊ°£');\n  console.log('üìù ÊñáÊ°£ÈïøÂ∫¶:', markdownText.length);\n  console.log('üè∑Ô∏è Âü∫Á°ÄÊ†áÁ≠æ:', baseTags);\n\n  if (!markdownText || typeof markdownText !== 'string') {\n    console.warn('‚ùå ËæìÂÖ•ÊñáÊ°£‰∏∫Á©∫ÊàñÊ†ºÂºèÈîôËØØ');\n    return [];\n  }\n\n  const lines = markdownText.split('\\n');\n  const questions = [];\n  \n  let currentQuestion = null;\n  let currentSection = 'question'; // question, solution, answer\n  let lineNumber = 0;\n\n  console.log(`üìÑ ÊÄªË°åÊï∞: ${lines.length}`);\n\n  for (const line of lines) {\n    lineNumber++;\n    const trimmedLine = line.trim();\n    \n    // Ë∑≥ËøáÁ©∫Ë°å\n    if (!trimmedLine) continue;\n\n    // Ê£ÄÊü•ÊòØÂê¶ÊòØÊñ∞È¢òÁõÆÂºÄÂßã\n    const questionMatch = matchQuestionPattern(trimmedLine);\n    \n    if (questionMatch) {\n      // ‰øùÂ≠ò‰∏ä‰∏ÄÈÅìÈ¢òÁõÆ\n      if (currentQuestion && isValidQuestion(currentQuestion)) {\n        const processedQuestion = processQuestion(currentQuestion, baseTags);\n        questions.push(processedQuestion);\n        console.log(`‚úÖ ÂÆåÊàêÈ¢òÁõÆ: ${processedQuestion.questionType}`);\n      }\n\n      // ÂºÄÂßãÊñ∞È¢òÁõÆ\n      console.log(`üÜï ÂèëÁé∞Êñ∞È¢òÁõÆ: ${questionMatch.type} (Ë°å ${lineNumber})`);\n      currentQuestion = {\n        questionType: questionMatch.type,\n        questionText: questionMatch.content || '',\n        answer: '',\n        solutionSteps: '',\n        rawLine: trimmedLine,\n        startLine: lineNumber\n      };\n      currentSection = 'question';\n      continue;\n    }\n\n    // Â¶ÇÊûúÊ≤°ÊúâÂΩìÂâçÈ¢òÁõÆÔºåË∑≥ËøáËøôË°å\n    if (!currentQuestion) continue;\n\n    // Ê£ÄÊü•Ëß£È¢òÊÄùË∑ØÊ†áËØÜ\n    if (isSolutionSection(trimmedLine)) {\n      console.log(`üí° ËøõÂÖ•Ëß£È¢òÊÄùË∑ØÈÉ®ÂàÜ (Ë°å ${lineNumber})`);\n      currentSection = 'solution';\n      continue;\n    }\n\n    // Ê£ÄÊü•Á≠îÊ°àÊ†áËØÜ\n    const answerMatch = matchAnswerPattern(trimmedLine);\n    if (answerMatch) {\n      console.log(`‚úÖ ÊâæÂà∞Á≠îÊ°à (Ë°å ${lineNumber}): ${answerMatch.substring(0, 50)}...`);\n      currentQuestion.answer = answerMatch;\n      continue;\n    }\n\n    // Â§ÑÁêÜÊôÆÈÄöÂÜÖÂÆπË°å\n    if (isContentLine(trimmedLine)) {\n      processContentLine(currentQuestion, trimmedLine, currentSection);\n    }\n  }\n\n  // Â§ÑÁêÜÊúÄÂêé‰∏ÄÈÅìÈ¢òÁõÆ\n  if (currentQuestion && isValidQuestion(currentQuestion)) {\n    const processedQuestion = processQuestion(currentQuestion, baseTags);\n    questions.push(processedQuestion);\n    console.log(`‚úÖ ÂÆåÊàêÊúÄÂêé‰∏ÄÈ¢ò: ${processedQuestion.questionType}`);\n  }\n\n  console.log(`üéâ Ëß£ÊûêÂÆåÊàê! ÂÖ±Ëß£ÊûêÂá∫ ${questions.length} ÈÅìÈ¢òÁõÆ`);\n  return questions;\n};\n\n/**\n * ÂåπÈÖçÈ¢òÁõÆÊ®°Âºè\n */\nconst matchQuestionPattern = (line) => {\n  for (const pattern of MARKDOWN_PATTERNS.questionPatterns) {\n    const match = line.match(pattern);\n    if (match) {\n      return {\n        type: match[1],           // ‰æã1, ‰π†È¢ò1Á≠â\n        content: match[2] || '',  // È¢òÁõÆÂÜÖÂÆπ\n        fullMatch: match[0]\n      };\n    }\n  }\n  return null;\n};\n\n/**\n * ÂåπÈÖçÁ≠îÊ°àÊ®°Âºè\n */\nconst matchAnswerPattern = (line) => {\n  for (const pattern of MARKDOWN_PATTERNS.answerPatterns) {\n    const match = line.match(pattern);\n    if (match) {\n      return match[1].replace(/\\*+/g, '').trim();\n    }\n  }\n  return null;\n};\n\n/**\n * Ê£ÄÊü•ÊòØÂê¶ÊòØËß£È¢òÊÄùË∑ØÈÉ®ÂàÜ\n */\nconst isSolutionSection = (line) => {\n  return MARKDOWN_PATTERNS.solutionKeywords.some(keyword => \n    line.includes(keyword)\n  );\n};\n\n/**\n * Ê£ÄÊü•ÊòØÂê¶ÊòØÊúâÊïàÁöÑÂÜÖÂÆπË°å\n */\nconst isContentLine = (line) => {\n  // ÊéíÈô§MarkdownÊ†áËÆ∞Ë°å\n  const excludePatterns = [\n    /^#+\\s/,           // Ê†áÈ¢òË°å\n    /^-{3,}$/,         // ÂàÜÈöîÁ∫ø\n    /^\\*{3,}$/,        // ÂàÜÈöîÁ∫ø\n    /^={3,}$/,         // ÂàÜÈöîÁ∫ø\n    /^\\s*$/            // Á©∫Ë°å\n  ];\n\n  return !excludePatterns.some(pattern => pattern.test(line)) && \n         line.length > 2;\n};\n\n/**\n * Â§ÑÁêÜÂÜÖÂÆπË°å\n */\nconst processContentLine = (question, line, section) => {\n  if (section === 'solution') {\n    question.solutionSteps += line + '\\n';\n  } else if (section === 'question') {\n    // Â¶ÇÊûúÈ¢òÁõÆÊñáÂ≠ó‰∏∫Á©∫ÔºåËøôÊòØÁ¨¨‰∏ÄË°å\n    if (!question.questionText || question.questionText.trim() === '') {\n      question.questionText = line;\n    } else {\n      // Âê¶ÂàôËøΩÂä†Âà∞È¢òÁõÆÂÜÖÂÆπÔºàÁî®Á©∫Ê†ºËøûÊé•Ôºâ\n      question.questionText += ' ' + line;\n    }\n  }\n};\n\n/**\n * È™åËØÅÈ¢òÁõÆÊòØÂê¶ÊúâÊïà\n */\nconst isValidQuestion = (question) => {\n  const hasValidType = QUESTION_TYPES.includes(question.questionType);\n  const hasContent = question.questionText && question.questionText.trim().length > 5;\n  \n  if (!hasValidType) {\n    console.warn(`‚ö†Ô∏è Êó†ÊïàÁöÑÈ¢òÁõÆÁ±ªÂûã: ${question.questionType}`);\n  }\n  \n  if (!hasContent) {\n    console.warn(`‚ö†Ô∏è È¢òÁõÆÂÜÖÂÆπËøáÁü≠Êàñ‰∏∫Á©∫: ${question.questionText}`);\n  }\n  \n  return hasValidType && hasContent;\n};\n\n/**\n * Â§ÑÁêÜÈ¢òÁõÆÔºåÊ∑ªÂä†Âü∫Á°Ä‰ø°ÊÅØ\n */\nconst processQuestion = (rawQuestion, baseTags) => {\n  return {\n    questionType: rawQuestion.questionType,\n    questionText: cleanText(rawQuestion.questionText),\n    answer: cleanText(rawQuestion.answer),\n    solutionSteps: cleanText(rawQuestion.solutionSteps),\n    tags: [...baseTags], // ‰ΩøÁî®‰º†ÂÖ•ÁöÑÂü∫Á°ÄÊ†áÁ≠æ\n    createdAt: new Date().toISOString(),\n    metadata: {\n      parsedAt: new Date().toISOString(),\n      startLine: rawQuestion.startLine,\n      originalLength: rawQuestion.questionText.length\n    }\n  };\n};\n\n/**\n * Ê∏ÖÁêÜÊñáÊú¨ÂÜÖÂÆπ\n */\nconst cleanText = (text) => {\n  if (!text || typeof text !== 'string') return '';\n  \n  return text\n    .trim()                          // ÂéªÈô§È¶ñÂ∞æÁ©∫Ê†º\n    .replace(/\\*+/g, '')            // ÂéªÈô§MarkdownÁ≤ó‰ΩìÊ†áËÆ∞\n    .replace(/_{2,}/g, '')          // ÂéªÈô§‰∏ãÂàíÁ∫ø\n    .replace(/\\s+/g, ' ')           // ÂêàÂπ∂Â§ö‰∏™Á©∫Ê†º\n    .replace(/\\n\\s*\\n/g, '\\n')      // ÂêàÂπ∂Â§ö‰∏™Êç¢Ë°å\n    .trim();\n};\n\n/**\n * È™åËØÅËß£ÊûêÁªìÊûú\n */\nexport const validateParseResult = (questions) => {\n  const validation = {\n    isValid: true,\n    totalQuestions: questions.length,\n    issues: [],\n    statistics: {\n      byType: {},\n      averageLength: 0,\n      withAnswers: 0,\n      withSolutions: 0\n    }\n  };\n\n  let totalLength = 0;\n\n  questions.forEach((question, index) => {\n    // ÁªüËÆ°È¢òÁõÆÁ±ªÂûã\n    validation.statistics.byType[question.questionType] = \n      (validation.statistics.byType[question.questionType] || 0) + 1;\n\n    // ÁªüËÆ°ÈïøÂ∫¶\n    totalLength += question.questionText.length;\n\n    // ÁªüËÆ°Á≠îÊ°àÂíåËß£È¢òÊÄùË∑Ø\n    if (question.answer && question.answer.trim()) {\n      validation.statistics.withAnswers++;\n    }\n    \n    if (question.solutionSteps && question.solutionSteps.trim()) {\n      validation.statistics.withSolutions++;\n    }\n\n    // Ê£ÄÊü•ÈóÆÈ¢ò\n    if (question.questionText.length < 10) {\n      validation.issues.push(`È¢òÁõÆ ${index + 1} ÂÜÖÂÆπËøáÁü≠`);\n    }\n    \n    if (!question.answer || !question.answer.trim()) {\n      validation.issues.push(`È¢òÁõÆ ${index + 1} Áº∫Â∞ëÁ≠îÊ°à`);\n    }\n    \n    if (question.tags.length === 0) {\n      validation.issues.push(`È¢òÁõÆ ${index + 1} Áº∫Â∞ëÊ†áÁ≠æ`);\n    }\n  });\n\n  validation.statistics.averageLength = questions.length > 0 \n    ? Math.round(totalLength / questions.length) \n    : 0;\n\n  validation.isValid = validation.issues.length === 0;\n\n  return validation;\n};\n\n/**\n * ÁîüÊàêËß£ÊûêÊä•Âëä\n */\nexport const generateParseReport = (questions, originalText) => {\n  const validation = validateParseResult(questions);\n  \n  const report = {\n    timestamp: new Date().toISOString(),\n    input: {\n      originalLength: originalText.length,\n      lineCount: originalText.split('\\n').length\n    },\n    output: {\n      questionCount: questions.length,\n      successRate: questions.length > 0 ? '100%' : '0%'\n    },\n    validation,\n    recommendations: []\n  };\n\n  // ÁîüÊàêÂª∫ËÆÆ\n  if (validation.statistics.withAnswers < questions.length) {\n    report.recommendations.push('Âª∫ËÆÆ‰∏∫ÊâÄÊúâÈ¢òÁõÆÊ∑ªÂä†Ê†áÂáÜÁ≠îÊ°à');\n  }\n  \n  if (validation.statistics.withSolutions < questions.length * 0.8) {\n    report.recommendations.push('Âª∫ËÆÆ‰∏∫Êõ¥Â§öÈ¢òÁõÆÊ∑ªÂä†Ëß£È¢òÊÄùË∑Ø');\n  }\n  \n  if (validation.issues.length > 0) {\n    report.recommendations.push('ËØ∑Ê£ÄÊü•Âπ∂‰øÆÂ§çÂèëÁé∞ÁöÑÈóÆÈ¢ò');\n  }\n\n  return report;\n};\n\n/**\n * ÂØºÂá∫Ëß£ÊûêÁªüËÆ°\n */\nexport const getParseStatistics = (questions) => {\n  const stats = {\n    total: questions.length,\n    byType: {},\n    byCategory: {},\n    quality: {\n      withAnswers: 0,\n      withSolutions: 0,\n      averageTextLength: 0,\n      averageAnswerLength: 0\n    }\n  };\n\n  let totalTextLength = 0;\n  let totalAnswerLength = 0;\n\n  questions.forEach(question => {\n    // ÊåâÁ±ªÂûãÁªüËÆ°\n    stats.byType[question.questionType] = (stats.byType[question.questionType] || 0) + 1;\n\n    // ÊåâÂàÜÁ±ªÁªüËÆ°\n    const categories = question.tags.filter(tag => \n      ['ËÆ°ÁÆó', 'ËÆ°Êï∞', 'Âá†‰Ωï', 'Êï∞ËÆ∫', 'Â∫îÁî®È¢ò', 'Ë°åÁ®ã', 'ÁªÑÂêà'].includes(tag)\n    );\n    categories.forEach(category => {\n      stats.byCategory[category] = (stats.byCategory[category] || 0) + 1;\n    });\n\n    // Ë¥®ÈáèÁªüËÆ°\n    totalTextLength += question.questionText.length;\n    if (question.answer) {\n      stats.quality.withAnswers++;\n      totalAnswerLength += question.answer.length;\n    }\n    if (question.solutionSteps && question.solutionSteps.trim()) {\n      stats.quality.withSolutions++;\n    }\n  });\n\n  stats.quality.averageTextLength = questions.length > 0 \n    ? Math.round(totalTextLength / questions.length) \n    : 0;\n  \n  stats.quality.averageAnswerLength = stats.quality.withAnswers > 0 \n    ? Math.round(totalAnswerLength / stats.quality.withAnswers)\n    : 0;\n\n  return stats;\n};\n\n/**\n * Ê£ÄÊµãÈáçÂ§çÈ¢òÁõÆ\n */\nexport const detectDuplicates = (newQuestions, existingQuestions) => {\n  const duplicates = [];\n  const uniqueQuestions = [];\n\n  newQuestions.forEach((newQ, index) => {\n    const isExisting = existingQuestions.some(existingQ => \n      isSimilarQuestion(newQ, existingQ)\n    );\n    \n    const isDuplicateInBatch = uniqueQuestions.some(uniqueQ => \n      isSimilarQuestion(newQ, uniqueQ)\n    );\n\n    if (isExisting || isDuplicateInBatch) {\n      duplicates.push({\n        index,\n        question: newQ,\n        reason: isExisting ? 'exists_in_database' : 'duplicate_in_batch'\n      });\n    } else {\n      uniqueQuestions.push(newQ);\n    }\n  });\n\n  return {\n    duplicates,\n    uniqueQuestions,\n    duplicateCount: duplicates.length,\n    uniqueCount: uniqueQuestions.length\n  };\n};\n\n/**\n * Âà§Êñ≠‰∏§‰∏™È¢òÁõÆÊòØÂê¶Áõ∏‰ºº\n */\nconst isSimilarQuestion = (q1, q2) => {\n  // ÁÆÄÂçïÁöÑÁõ∏‰ººÂ∫¶Ê£ÄÊµãÔºöÊØîËæÉÈ¢òÁõÆÂºÄÂ§¥30‰∏™Â≠óÁ¨¶\n  const text1 = q1.questionText.substring(0, 30).replace(/\\s+/g, '');\n  const text2 = q2.questionText.substring(0, 30).replace(/\\s+/g, '');\n  \n  return text1 === text2;\n};\n\n/**\n * È¢ÑÂ§ÑÁêÜMarkdownÊñáÊ°£\n */\nexport const preprocessMarkdown = (markdownText) => {\n  if (!markdownText || typeof markdownText !== 'string') {\n    return '';\n  }\n\n  return markdownText\n    // Áªü‰∏ÄÊç¢Ë°åÁ¨¶\n    .replace(/\\r\\n/g, '\\n')\n    .replace(/\\r/g, '\\n')\n    \n    // Ê∏ÖÁêÜÂ§ö‰ΩôÁöÑÁ©∫Ë°å\n    .replace(/\\n{3,}/g, '\\n\\n')\n    \n    // Áªü‰∏ÄÊ†áÈ¢òÊ†ºÂºè\n    .replace(/^#+\\s*/gm, '## ')\n    \n    // Ê∏ÖÁêÜË°åÈ¶ñÁ©∫Ê†º\n    .replace(/^\\s+/gm, '')\n    \n    // Ê∏ÖÁêÜË°åÂ∞æÁ©∫Ê†º\n    .replace(/\\s+$/gm, '')\n    \n    .trim();\n};\n\n/**\n * ÊèêÂèñÊñáÊ°£ÂÖÉ‰ø°ÊÅØ\n */\nexport const extractDocumentMeta = (markdownText) => {\n  const meta = {\n    hasQuestions: false,\n    questionCount: 0,\n    hasAnswers: false,\n    hasSolutions: false,\n    estimatedProcessingTime: 0,\n    detectedPatterns: []\n  };\n\n  if (!markdownText) return meta;\n\n  // Ê£ÄÊµãÈ¢òÁõÆÊ®°Âºè\n  MARKDOWN_PATTERNS.questionPatterns.forEach((pattern, index) => {\n    const matches = markdownText.match(new RegExp(pattern.source, 'gm'));\n    if (matches && matches.length > 0) {\n      meta.hasQuestions = true;\n      meta.questionCount = Math.max(meta.questionCount, matches.length);\n      meta.detectedPatterns.push({\n        pattern: index,\n        matches: matches.length,\n        examples: matches.slice(0, 3)\n      });\n    }\n  });\n\n  // Ê£ÄÊµãÁ≠îÊ°à\n  MARKDOWN_PATTERNS.answerPatterns.forEach(pattern => {\n    const matches = markdownText.match(new RegExp(pattern.source, 'gm'));\n    if (matches && matches.length > 0) {\n      meta.hasAnswers = true;\n    }\n  });\n\n  // Ê£ÄÊµãËß£È¢òÊÄùË∑Ø\n  meta.hasSolutions = MARKDOWN_PATTERNS.solutionKeywords.some(keyword => \n    markdownText.includes(keyword)\n  );\n\n  // ‰º∞ÁÆóÂ§ÑÁêÜÊó∂Èó¥ÔºàÊØ´ÁßíÔºâ\n  meta.estimatedProcessingTime = Math.max(100, markdownText.length / 100);\n\n  return meta;\n};\n\n/**\n * ‰øÆÂ§çÂ∏∏ËßÅÁöÑÊ†ºÂºèÈóÆÈ¢ò\n */\nexport const fixCommonFormatIssues = (markdownText) => {\n  return markdownText\n    // ‰øÆÂ§çÈ¢òÁõÆÁºñÂè∑Ê†ºÂºè\n    .replace(/‰æã(\\d+)[\\.ÔºéÔºö:]/g, '‰æã$1. ')\n    .replace(/‰π†È¢ò(\\d+)[\\.ÔºéÔºö:]/g, '‰π†È¢ò$1. ')\n    \n    // ‰øÆÂ§çÁ≠îÊ°àÊ†ºÂºè\n    .replace(/Á≠îÊ°à[Ôºö:]\\s*/g, 'Á≠îÊ°à: ')\n    .replace(/ÊúÄÁªàÁ≠îÊ°à[Ôºö:]\\s*/g, 'ÊúÄÁªàÁ≠îÊ°à: ')\n    \n    // ‰øÆÂ§çÊ†áÈ¢òÊ†ºÂºè\n    .replace(/^([‰æã‰π†]\\d+[\\.ÔºéÔºö:].*)/gm, '## $1')\n    \n    // ‰øÆÂ§çËß£È¢òÊÄùË∑ØÊ†ºÂºè\n    .replace(/Ëß£È¢òÊÄùË∑Ø[Ôºö:]?\\s*/g, '### Ëß£È¢òÊÄùË∑Ø\\n')\n    \n    // ‰øÆÂ§ç‰∏≠ÊñáÊ†áÁÇπ\n    .replace(/Ôºå\\s*/g, 'Ôºå')\n    .replace(/„ÄÇ\\s*/g, '„ÄÇ')\n    .replace(/Ôºõ\\s*/g, 'Ôºõ')\n    \n    // Ê∏ÖÁêÜÂ§ö‰ΩôÁ©∫Ê†º\n    .replace(/\\s+/g, ' ')\n    .replace(/\\n\\s+/g, '\\n');\n};\n\n/**\n * Êô∫ËÉΩÂàÜÊÆµÂ§ÑÁêÜ\n */\nexport const intelligentSegmentation = (markdownText) => {\n  const segments = [];\n  const lines = markdownText.split('\\n');\n  let currentSegment = [];\n  let segmentType = 'unknown';\n\n  lines.forEach(line => {\n    const trimmedLine = line.trim();\n    \n    if (!trimmedLine) {\n      if (currentSegment.length > 0) {\n        currentSegment.push('');\n      }\n      return;\n    }\n\n    // Ê£ÄÊµãÊñ∞ÁöÑÈ¢òÁõÆÊÆµËêΩ\n    const isQuestionStart = matchQuestionPattern(trimmedLine);\n    if (isQuestionStart) {\n      // ‰øùÂ≠òÂΩìÂâçÊÆµËêΩ\n      if (currentSegment.length > 0) {\n        segments.push({\n          type: segmentType,\n          content: currentSegment.join('\\n'),\n          lineCount: currentSegment.length\n        });\n      }\n      \n      // ÂºÄÂßãÊñ∞ÊÆµËêΩ\n      currentSegment = [trimmedLine];\n      segmentType = 'question';\n      return;\n    }\n\n    // Ê∑ªÂä†Âà∞ÂΩìÂâçÊÆµËêΩ\n    currentSegment.push(trimmedLine);\n  });\n\n  // ‰øùÂ≠òÊúÄÂêé‰∏Ä‰∏™ÊÆµËêΩ\n  if (currentSegment.length > 0) {\n    segments.push({\n      type: segmentType,\n      content: currentSegment.join('\\n'),\n      lineCount: currentSegment.length\n    });\n  }\n\n  return segments;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}