{"ast":null,"code":"// src/components/WaitingApproval.jsx\nimport React from'react';import{useAuth}from'../contexts/AuthProvider';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WaitingApproval=_ref=>{let{userProfile,onSignOut,className=\"\"}=_ref;const{signOut}=useAuth();const handleSignOut=async()=>{if(onSignOut){await onSignOut();}else{await signOut();}};const getStatusMessage=()=>{switch(userProfile===null||userProfile===void 0?void 0:userProfile.status){case'pending':return{title:'等待审批',message:'您的账户正在等待管理员审批，审批通过后即可使用系统。',icon:'⏳',color:'text-yellow-600',bgColor:'bg-yellow-50'};case'rejected':return{title:'审批被拒绝',message:'很抱歉，您的账户申请被拒绝。如有疑问，请联系管理员。',icon:'❌',color:'text-red-600',bgColor:'bg-red-50'};default:return{title:'状态未知',message:'无法确定您的账户状态，请联系管理员。',icon:'❓',color:'text-gray-600',bgColor:'bg-gray-50'};}};const statusInfo=getStatusMessage();return/*#__PURE__*/_jsx(\"div\",{className:`min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 ${className}`,children:/*#__PURE__*/_jsx(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`mx-auto flex items-center justify-center h-16 w-16 rounded-full ${statusInfo.bgColor} mb-4`,children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:statusInfo.icon})}),/*#__PURE__*/_jsx(\"h2\",{className:`text-2xl font-bold ${statusInfo.color} mb-4`,children:statusInfo.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:statusInfo.message}),userProfile&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 mb-6 text-left\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"\\u8D26\\u6237\\u4FE1\\u606F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u90AE\\u7BB1\\uFF1A\"}),userProfile.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u7533\\u8BF7\\u65F6\\u95F4\\uFF1A\"}),new Date(userProfile.requested_at).toLocaleString('zh-CN')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u5F53\\u524D\\u72B6\\u6001\\uFF1A\"}),/*#__PURE__*/_jsx(\"span\",{className:`ml-1 px-2 py-1 rounded text-xs ${userProfile.status==='pending'?'bg-yellow-100 text-yellow-800':userProfile.status==='rejected'?'bg-red-100 text-red-800':'bg-gray-100 text-gray-800'}`,children:userProfile.status==='pending'?'待审批':userProfile.status==='rejected'?'已拒绝':'未知'})]}),userProfile.notes&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u5907\\u6CE8\\uFF1A\"}),userProfile.notes]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"\\u5237\\u65B0\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"\\u9000\\u51FA\\u767B\\u5F55\"})]}),(userProfile===null||userProfile===void 0?void 0:userProfile.status)==='pending'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u5BA1\\u6279\\u901A\\u5E38\\u57281-2\\u4E2A\\u5DE5\\u4F5C\\u65E5\\u5185\\u5B8C\\u6210\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u5982\\u6709\\u7D27\\u6025\\u9700\\u6C42\\uFF0C\\u8BF7\\u8054\\u7CFB\\u7BA1\\u7406\\u5458\"})]})]})})})});};export default WaitingApproval;","map":{"version":3,"names":["React","useAuth","jsx","_jsx","jsxs","_jsxs","WaitingApproval","_ref","userProfile","onSignOut","className","signOut","handleSignOut","getStatusMessage","status","title","message","icon","color","bgColor","statusInfo","children","email","Date","requested_at","toLocaleString","notes","onClick","window","location","reload"],"sources":["/Users/damonxu/Documents/GitHub/my-projects/auth/src/components/WaitingApproval.jsx"],"sourcesContent":["// src/components/WaitingApproval.jsx\nimport React from 'react';\nimport { useAuth } from '../contexts/AuthProvider';\n\nconst WaitingApproval = ({ \n  userProfile,\n  onSignOut,\n  className = \"\"\n}) => {\n  const { signOut } = useAuth();\n\n  const handleSignOut = async () => {\n    if (onSignOut) {\n      await onSignOut();\n    } else {\n      await signOut();\n    }\n  };\n\n  const getStatusMessage = () => {\n    switch (userProfile?.status) {\n      case 'pending':\n        return {\n          title: '等待审批',\n          message: '您的账户正在等待管理员审批，审批通过后即可使用系统。',\n          icon: '⏳',\n          color: 'text-yellow-600',\n          bgColor: 'bg-yellow-50',\n        };\n      case 'rejected':\n        return {\n          title: '审批被拒绝',\n          message: '很抱歉，您的账户申请被拒绝。如有疑问，请联系管理员。',\n          icon: '❌',\n          color: 'text-red-600',\n          bgColor: 'bg-red-50',\n        };\n      default:\n        return {\n          title: '状态未知',\n          message: '无法确定您的账户状态，请联系管理员。',\n          icon: '❓',\n          color: 'text-gray-600',\n          bgColor: 'bg-gray-50',\n        };\n    }\n  };\n\n  const statusInfo = getStatusMessage();\n\n  return (\n    <div className={`min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 ${className}`}>\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          <div className=\"text-center\">\n            <div className={`mx-auto flex items-center justify-center h-16 w-16 rounded-full ${statusInfo.bgColor} mb-4`}>\n              <span className=\"text-2xl\">{statusInfo.icon}</span>\n            </div>\n            \n            <h2 className={`text-2xl font-bold ${statusInfo.color} mb-4`}>\n              {statusInfo.title}\n            </h2>\n            \n            <p className=\"text-gray-600 mb-6\">\n              {statusInfo.message}\n            </p>\n\n            {userProfile && (\n              <div className=\"bg-gray-50 rounded-lg p-4 mb-6 text-left\">\n                <h3 className=\"font-medium text-gray-900 mb-2\">账户信息</h3>\n                <div className=\"text-sm text-gray-600 space-y-1\">\n                  <p><strong>邮箱：</strong>{userProfile.email}</p>\n                  <p><strong>申请时间：</strong>{new Date(userProfile.requested_at).toLocaleString('zh-CN')}</p>\n                  <p><strong>当前状态：</strong>\n                    <span className={`ml-1 px-2 py-1 rounded text-xs ${\n                      userProfile.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\n                      userProfile.status === 'rejected' ? 'bg-red-100 text-red-800' :\n                      'bg-gray-100 text-gray-800'\n                    }`}>\n                      {userProfile.status === 'pending' ? '待审批' :\n                       userProfile.status === 'rejected' ? '已拒绝' : '未知'}\n                    </span>\n                  </p>\n                  {userProfile.notes && (\n                    <p><strong>备注：</strong>{userProfile.notes}</p>\n                  )}\n                </div>\n              </div>\n            )}\n\n            <div className=\"space-y-3\">\n              <button\n                onClick={() => window.location.reload()}\n                className=\"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                刷新状态\n              </button>\n              \n              <button\n                onClick={handleSignOut}\n                className=\"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n              >\n                退出登录\n              </button>\n            </div>\n\n            {userProfile?.status === 'pending' && (\n              <div className=\"mt-6 text-xs text-gray-500\">\n                <p>审批通常在1-2个工作日内完成</p>\n                <p>如有紧急需求，请联系管理员</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WaitingApproval;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}