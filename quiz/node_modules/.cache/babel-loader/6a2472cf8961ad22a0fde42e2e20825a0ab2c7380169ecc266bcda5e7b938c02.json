{"ast":null,"code":"// ✅ 统一使用新的auth模块导入\nimport{AuthProvider,useAuth,AuthGuard,createSupabaseClientFromEnv}from'../../auth/src';import Login from'../../auth/src/components/Login';import React,{useState,useEffect}from'react';import{Star,Edit2,Database,Github,LogOut,User,Users}from'lucide-react';import QuestionInput from'./components/QuestionInput/index.js';import db from'./services/DatabaseService.js';import UserManagement from'./components/admin/UserManagement';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const supabaseClient=createSupabaseClientFromEnv();console.log('Supabase client created:',supabaseClient);console.log('Supabase client type:',typeof supabaseClient);console.log('Supabase client keys:',Object.keys(supabaseClient||{}));const QuizApp=()=>{const[activeTab,setActiveTab]=useState('input');const[questions,setQuestions]=useState([]);const[attempts,setAttempts]=useState([]);const[loading,setLoading]=useState(true);const[editingQuestion,setEditingQuestion]=useState(null);// 认证状态\nconst{user,userProfile,signOut,isAdmin}=useAuth();// 调试和部署状态\nconst[debugInfo,setDebugInfo]=useState([]);const[showDebug,setShowDebug]=useState(false);const[deploymentStatus,setDeploymentStatus]=useState({database:'mock',ready:false,checklist:{codeOptimized:true,environmentVars:false,supabaseConfigured:false,githubReady:false,deploymentTested:false}});const addDebugInfo=message=>{if(showDebug){const timestamp=new Date().toLocaleTimeString();setDebugInfo(prev=>[...prev.slice(-4),`${timestamp}: ${message}`]);}};// 筛选状态\nconst[filters,setFilters]=useState({teacher:'',semester:'',category:'',masteryLevel:'',lessonNumber:'',masteryTag:''});// 分类和配置\nconst mathCategories=['计算','计数','几何','数论','应用题','行程','组合'];const categories=['行程','组合','数论','几何','计算','应用题','逻辑推理','计数','其他'];// 初始化数据加载\nuseEffect(()=>{const initializeSystem=async()=>{try{// 初始化数据库连接\nawait db.initializeSupabase();// 加载数据\nconst{data:questionsData,error:questionsError}=await db.selectQuestions();const{data:attemptsData,error:attemptsError}=await db.selectAttempts();if(questionsError||attemptsError){throw new Error('数据加载失败');}setQuestions(questionsData||[]);setAttempts(attemptsData||[]);addDebugInfo('系统初始化完成');}catch(error){console.error('系统初始化失败:',error);addDebugInfo('系统初始化失败: '+error.message);}finally{setLoading(false);}};initializeSystem();},[]);// 登出处理\nconst handleSignOut=async()=>{if(window.confirm('确定要退出登录吗？')){await signOut();}};// 学习记录操作\nconst addAttempt=async function(questionId,score){let isWrong=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const attempt={questionId,masteryScore:score,isMarkedWrong:isWrong,attemptedAt:new Date().toISOString()};try{const{data,error}=await db.insertAttempt(attempt);if(error)throw error;setAttempts([...attempts,data]);updateQuestionMasteryTag(questionId,score,isWrong);}catch(error){console.error('记录学习失败:',error);}};const updateQuestion=async(id,updates)=>{try{const{data,error}=await db.updateQuestion(id,updates);if(error)throw error;setQuestions(questions.map(q=>q.id===id?{...q,...updates}:q));setEditingQuestion(null);alert('题目更新成功！');}catch(error){console.error('更新失败:',error);alert('更新失败，请检查数据库连接');}};const deleteQuestion=async id=>{const confirmDelete=()=>{return window.confirm('确定要删除这道题目吗？');};if(!confirmDelete())return;try{const{error}=await db.deleteQuestion(id);if(error)throw error;setQuestions(questions.filter(q=>q.id!==id));setAttempts(attempts.filter(a=>a.questionId!==id));alert('题目删除成功！');}catch(error){console.error('删除失败:',error);alert('删除失败，请检查数据库连接');}};const updateQuestionMasteryTag=(questionId,score,isWrong)=>{const avgScore=getNewAverageScore(questionId,score);let masteryTag='';if(isWrong){masteryTag='错题';}else if(avgScore>=4){masteryTag='熟练';}else if(avgScore>=3){masteryTag='一般';}else{masteryTag='不熟练';}const question=questions.find(q=>q.id===questionId);if(question){const newTags=question.tags.filter(tag=>!['错题','熟练','一般','不熟练'].includes(tag));newTags.push(masteryTag);updateQuestion(questionId,{tags:newTags});}};const getNewAverageScore=(questionId,newScore)=>{const existingAttempts=attempts.filter(a=>a.questionId===questionId);const totalScore=existingAttempts.reduce((sum,a)=>sum+a.masteryScore,0)+newScore;return totalScore/(existingAttempts.length+1);};const getQuestionAttempts=questionId=>{return attempts.filter(a=>a.questionId===questionId);};const getAverageScore=questionId=>{const questionAttempts=getQuestionAttempts(questionId);if(questionAttempts.length===0)return 0;return(questionAttempts.reduce((sum,a)=>sum+a.masteryScore,0)/questionAttempts.length).toFixed(1);};const isMarkedWrong=questionId=>{return attempts.some(a=>a.questionId===questionId&&a.isMarkedWrong);};const filteredQuestions=questions.filter(q=>{return(!filters.teacher||q.tags.some(tag=>tag.includes(filters.teacher)))&&(!filters.semester||q.tags.some(tag=>tag.includes(filters.semester)))&&(!filters.category||q.tags.some(tag=>tag===filters.category))&&(!filters.lessonNumber||q.tags.some(tag=>tag.includes(`第${filters.lessonNumber}讲`)))&&(!filters.masteryTag||q.tags.some(tag=>tag===filters.masteryTag))&&(!filters.masteryLevel||filters.masteryLevel==='unfamiliar'&&getAverageScore(q.id)<=2||filters.masteryLevel==='familiar'&&getAverageScore(q.id)>=4||filters.masteryLevel==='wrong'&&isMarkedWrong(q.id));});const renderStars=score=>{return Array.from({length:5},(_,i)=>/*#__PURE__*/_jsx(Star,{size:16,className:i<score?'fill-yellow-400 text-yellow-400':'text-gray-300'},i));};// 部署检查面板\nconst renderDeploymentPanel=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-6 rounded-lg mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-blue-800 mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Github,{size:20}),\"\\uD83D\\uDE80 \\u90E8\\u7F72\\u51C6\\u5907\\u68C0\\u67E5\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded border\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-800 mb-3\",children:\"\\uD83D\\uDCCB \\u90E8\\u7F72\\u68C0\\u67E5\\u6E05\\u5355\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 text-sm\",children:Object.entries({'代码优化完成':deploymentStatus.checklist.codeOptimized,'环境变量配置':deploymentStatus.checklist.environmentVars,'Supabase配置':deploymentStatus.checklist.supabaseConfigured,'GitHub准备':deploymentStatus.checklist.githubReady,'部署测试':deploymentStatus.checklist.deploymentTested}).map(_ref=>{let[item,status]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`w-4 h-4 rounded-full ${status?'bg-green-500':'bg-gray-300'}`}),/*#__PURE__*/_jsx(\"span\",{className:status?'text-green-700':'text-gray-600',children:item})]},item);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded border\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-800 mb-3\",children:\"\\uD83D\\uDD17 \\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u72B6\\u6001\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(Database,{size:16,className:\"text-blue-500\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u6A21\\u5F0F: \",db.getConnectionStatus().mode]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 \\u5F53\\u524D\\u4F7F\\u7528: \",db.getConnectionStatus().status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 \\u9898\\u76EE\\u6570\\u91CF: \",questions.length]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 \\u5B66\\u4E60\\u8BB0\\u5F55: \",attempts.length]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded border mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-800 mb-3\",children:\"\\uD83D\\uDCE6 \\u751F\\u4EA7\\u73AF\\u5883\\u914D\\u7F6E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-700 space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\u73AF\\u5883\\u53D8\\u91CF\\u8BBE\\u7F6E:\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 p-3 rounded font-mono text-xs\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"REACT_APP_SUPABASE_URL=your-supabase-project-url\"}),/*#__PURE__*/_jsx(\"p\",{children:\"REACT_APP_SUPABASE_ANON_KEY=your-supabase-anon-key\"}),/*#__PURE__*/_jsx(\"p\",{children:\"NODE_ENV=production\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-orange-600 mt-2\",children:\"\\u26A0\\uFE0F \\u90E8\\u7F72\\u524D\\u9700\\u8981\\u521B\\u5EFA\\u771F\\u5B9E\\u7684Supabase\\u9879\\u76EE\\u5E76\\u914D\\u7F6E\\u4EE5\\u4E0A\\u73AF\\u5883\\u53D8\\u91CF\"})]})]})]});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"\\u6B63\\u5728\\u4ECE\\u6570\\u636E\\u5E93\\u52A0\\u8F7D\\u9898\\u76EE...\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 bg-gray-50 border-b border-gray-200 rounded-t-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"\\u9898\\u5E93\\u7BA1\\u7406\\u7CFB\\u7EDF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(User,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:user===null||user===void 0?void 0:user.email}),(userProfile===null||userProfile===void 0?void 0:userProfile.status)==='approved'&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-green-100 text-green-800 rounded text-xs\",children:\"\\u5DF2\\u8BA4\\u8BC1\"}),isAdmin()&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs\",children:\"\\u7BA1\\u7406\\u5458\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSignOut,className:\"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(LogOut,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u9000\\u51FA\\u767B\\u5F55\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-8 px-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('input'),className:`py-4 px-2 border-b-2 font-medium text-sm ${activeTab==='input'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700'}`,children:\"\\u5F55\\u5165\\u9898\\u76EE\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('browse'),className:`py-4 px-2 border-b-2 font-medium text-sm ${activeTab==='browse'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700'}`,children:[\"\\u6D4F\\u89C8\\u9898\\u5E93 (\",questions.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('practice'),className:`py-4 px-2 border-b-2 font-medium text-sm ${activeTab==='practice'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700'}`,children:\"\\u7EC3\\u4E60\\u6A21\\u5F0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('deploy'),className:`py-4 px-2 border-b-2 font-medium text-sm ${activeTab==='deploy'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700'}`,children:\"\\uD83D\\uDE80 \\u90E8\\u7F72\"}),isAdmin()&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('users'),className:`py-4 px-2 border-b-2 font-medium text-sm ${activeTab==='users'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700'}`,children:[/*#__PURE__*/_jsx(Users,{size:16,className:\"inline mr-1\"}),\"\\u7528\\u6237\\u7BA1\\u7406\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[activeTab==='input'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u5F55\\u5165\\u65B0\\u9898\\u76EE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDebug(!showDebug),className:`px-4 py-2 rounded-lg text-white ${showDebug?'bg-orange-500 hover:bg-orange-600':'bg-gray-500 hover:bg-gray-600'}`,children:[\"\\uD83D\\uDD0D \",showDebug?'关闭':'开启',\"\\u8C03\\u8BD5\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{db.clearAll();setQuestions([]);setAttempts([]);setDebugInfo([]);if(showDebug)addDebugInfo('手动清空所有数据');alert('已清空所有数据！');},className:\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",children:\"\\uD83D\\uDDD1\\uFE0F \\u6E05\\u7A7A\\u6570\\u636E\"})]})]}),showDebug&&debugInfo.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 text-green-400 p-4 rounded-lg mb-6 font-mono text-sm\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white mb-2\",children:\"\\uD83D\\uDD0D \\u8C03\\u8BD5\\u4FE1\\u606F\\uFF1A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-24 overflow-y-auto\",children:debugInfo.map((info,index)=>/*#__PURE__*/_jsx(\"div\",{children:info},index))})]}),/*#__PURE__*/_jsx(QuestionInput,{questions:questions,setQuestions:setQuestions,db:db,addDebugInfo:addDebugInfo,showDebug:showDebug}),questions.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"\\uD83D\\uDCCA \\u6570\\u636E\\u5E93\\u7EDF\\u8BA1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 px-3 py-1 rounded\",children:[\"\\uD83D\\uDCBE \\u603B\\u9898\\u76EE: \",questions.length]}),questions.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"bg-green-100 text-green-800 px-3 py-1 rounded\",children:[\"\\uD83E\\uDDEE \\u8BA1\\u6570\\u7C7B: \",questions.filter(q=>{var _q$tags;return(_q$tags=q.tags)===null||_q$tags===void 0?void 0:_q$tags.includes('计数');}).length]}),Array.from(new Set(questions.flatMap(q=>{var _q$tags2;return((_q$tags2=q.tags)===null||_q$tags2===void 0?void 0:_q$tags2.filter(tag=>tag.includes('第')&&tag.includes('讲')))||[];}))).slice(0,3).map(lesson=>/*#__PURE__*/_jsxs(\"span\",{className:\"bg-purple-100 text-purple-800 px-3 py-1 rounded\",children:[\"\\uD83D\\uDCD6 \",lesson,\": \",questions.filter(q=>{var _q$tags3;return(_q$tags3=q.tags)===null||_q$tags3===void 0?void 0:_q$tags3.includes(lesson);}).length]},lesson))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\uD83D\\uDCC8 \\u6309\\u8BB2\\u6B21\\u5206\\u7EC4\\u7EDF\\u8BA1\\uFF1A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\",children:Array.from(new Set(questions.flatMap(q=>{var _q$tags4;return((_q$tags4=q.tags)===null||_q$tags4===void 0?void 0:_q$tags4.filter(tag=>tag.includes('第')&&tag.includes('讲')))||[];}))).sort().map(lesson=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-3 py-2 rounded border\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[lesson,\":\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1 text-blue-600\",children:[questions.filter(q=>{var _q$tags5;return(_q$tags5=q.tags)===null||_q$tags5===void 0?void 0:_q$tags5.includes(lesson);}).length,\"\\u9898\"]})]},lesson))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 p-4 rounded-lg mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800 mb-2\",children:\"\\u2705 \\u6570\\u636E\\u5E93\\u8FDE\\u63A5\\u72B6\\u6001\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-700\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 \\u5DF2\\u8FDE\\u63A5\\u5230\",db.getConnectionStatus().mode,\"\\u6570\\u636E\\u5E93\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 \\u72B6\\u6001: \",db.getConnectionStatus().status]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\u6570\\u636E\\u6301\\u4E45\\u5316\\u4FDD\\u5B58\\uFF0C\\u652F\\u6301\\u5B9E\\u65F6\\u589E\\u5220\\u6539\\u67E5\\u64CD\\u4F5C\"})]})]})]})]}),activeTab==='browse'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\uD83D\\uDCDA \\u9898\\u5E93\\u6D4F\\u89C8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-wrap\",children:[/*#__PURE__*/_jsxs(\"select\",{value:filters.teacher,onChange:e=>setFilters({...filters,teacher:e.target.value}),className:\"p-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u6240\\u6709\\u8001\\u5E08\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5C9B\\u4E3B\",children:\"\\u5C9B\\u4E3B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u666E\\u8001\\u5E08\",children:\"\\u666E\\u8001\\u5E08\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.lessonNumber,onChange:e=>setFilters({...filters,lessonNumber:e.target.value}),className:\"p-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u6240\\u6709\\u8BB2\\u6B21\"}),Array.from(new Set(questions.flatMap(q=>{var _q$tags6,_q$tags6$filter,_q$tags6$filter$map;return((_q$tags6=q.tags)===null||_q$tags6===void 0?void 0:(_q$tags6$filter=_q$tags6.filter(tag=>tag.includes('第')&&tag.includes('讲')))===null||_q$tags6$filter===void 0?void 0:(_q$tags6$filter$map=_q$tags6$filter.map(tag=>{var _tag$match;return(_tag$match=tag.match(/第(\\d+)讲/))===null||_tag$match===void 0?void 0:_tag$match[1];}))===null||_q$tags6$filter$map===void 0?void 0:_q$tags6$filter$map.filter(Boolean))||[];}))).sort((a,b)=>parseInt(a)-parseInt(b)).map(num=>/*#__PURE__*/_jsxs(\"option\",{value:num,children:[\"\\u7B2C\",num,\"\\u8BB2\"]},num))]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.category,onChange:e=>setFilters({...filters,category:e.target.value}),className:\"p-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u6240\\u6709\\u5206\\u7C7B\"}),mathCategories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.masteryTag,onChange:e=>setFilters({...filters,masteryTag:e.target.value}),className:\"p-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u6240\\u6709\\u719F\\u7EC3\\u5EA6\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u9519\\u9898\",children:\"\\u9519\\u9898\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u4E0D\\u719F\\u7EC3\",children:\"\\u4E0D\\u719F\\u7EC3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u4E00\\u822C\",children:\"\\u4E00\\u822C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u719F\\u7EC3\",children:\"\\u719F\\u7EC3\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilters({teacher:'',semester:'',category:'',masteryLevel:'',lessonNumber:'',masteryTag:''}),className:\"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg\",children:\"\\u6E05\\u9664\\u7B5B\\u9009\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[filteredQuestions.map(q=>{var _q$tags7;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 p-6 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded font-medium\",children:q.questionType}),((_q$tags7=q.tags)===null||_q$tags7===void 0?void 0:_q$tags7.map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:`text-xs px-2 py-1 rounded ${tag==='错题'?'bg-red-100 text-red-800':tag==='不熟练'?'bg-yellow-100 text-yellow-800':tag==='一般'?'bg-blue-100 text-blue-800':tag==='熟练'?'bg-green-100 text-green-800':mathCategories.includes(tag)?'bg-purple-100 text-purple-800':tag.includes('第')&&tag.includes('讲')?'bg-indigo-100 text-indigo-800':'bg-gray-100 text-gray-600'}`,children:tag},index)))||[]]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingQuestion(editingQuestion===q.id?null:q.id),className:\"text-gray-500 hover:text-blue-500\",children:/*#__PURE__*/_jsx(Edit2,{size:16})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[renderStars(Math.round(getAverageScore(q.id))),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 ml-1\",children:[\"(\",getAverageScore(q.id),\")\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"\\u9898\\u76EE\\uFF1A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:q.questionText})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"\\u7B54\\u6848\\uFF1A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:q.answer})]}),q.solutionSteps&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"\\u89E3\\u9898\\u601D\\u8DEF\\uFF1A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-line\",children:q.solutionSteps})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 pt-4 border-t border-gray-100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"\\u719F\\u6089\\u5EA6\\u8BC4\\u5206\\uFF1A\"}),[1,2,3,4,5].map(score=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>addAttempt(q.id,score),className:\"text-yellow-400 hover:text-yellow-500 flex items-center\",title:`${score}星熟练度`,children:[/*#__PURE__*/_jsx(Star,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs ml-1\",children:score})]},score)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addAttempt(q.id,1,true),className:\"ml-4 text-red-500 hover:text-red-600 text-sm px-2 py-1 border border-red-300 rounded\",children:\"\\u274C \\u6807\\u8BB0\\u9519\\u9898\"})]})]},q.id);}),filteredQuestions.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 text-gray-500\",children:questions.length===0?'数据库中还没有题目，去添加第一道题吧！':'没有符合条件的题目'})]})]}),activeTab==='practice'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"\\uD83C\\uDFAF \\u7EC3\\u4E60\\u6A21\\u5F0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-800 mb-2\",children:\"\\u274C \\u9519\\u9898\\u590D\\u4E60\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mb-4\",children:\"\\u590D\\u4E60\\u5DF2\\u6807\\u8BB0\\u7684\\u9519\\u9898\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-red-800\",children:attempts.filter(a=>a.isMarkedWrong).length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600\",children:\"\\u9053\\u9519\\u9898\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-yellow-800 mb-2\",children:\"\\u2B50 \\u4E0D\\u719F\\u6089\\u9898\\u76EE\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-600 mb-4\",children:\"\\u8BC4\\u52061-2\\u661F\\u7684\\u9898\\u76EE\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-800\",children:questions.filter(q=>getAverageScore(q.id)<=2&&getAverageScore(q.id)>0).length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-600\",children:\"\\u9053\\u9898\\u76EE\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-green-800 mb-2\",children:\"\\uD83C\\uDFB2 \\u968F\\u673A\\u7EC3\\u4E60\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600 mb-4\",children:\"\\u4ECE\\u9898\\u5E93\\u4E2D\\u968F\\u673A\\u62BD\\u53D6\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-800\",children:questions.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-600\",children:\"\\u9053\\u9898\\u76EE\\u53EF\\u9009\"})]})]})]}),activeTab==='deploy'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"\\uD83D\\uDE80 \\u90E8\\u7F72\\u51C6\\u5907\"}),renderDeploymentPanel(),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg border mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\uD83D\\uDCCB Supabase\\u6570\\u636E\\u8868\\u8BBE\\u8BA1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 p-4 rounded font-mono text-sm overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-blue-600\",children:\"-- questions\\u8868\"}),/*#__PURE__*/_jsx(\"p\",{children:\"CREATE TABLE questions (\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0id BIGSERIAL PRIMARY KEY,\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0question_type VARCHAR(20) NOT NULL,\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0question_text TEXT NOT NULL,\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0answer TEXT,\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0solution_steps TEXT,\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0tags TEXT[] DEFAULT ARRAY[]::TEXT[],\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\"}),/*#__PURE__*/_jsx(\"p\",{children:\");\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-green-600\",children:\"-- attempts\\u8868\"}),/*#__PURE__*/_jsx(\"p\",{children:\"CREATE TABLE attempts (\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0id BIGSERIAL PRIMARY KEY,\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0question_id BIGINT REFERENCES questions(id) ON DELETE CASCADE,\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0mastery_score INTEGER CHECK (mastery_score >= 1 AND mastery_score <= 5),\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0is_marked_wrong BOOLEAN DEFAULT FALSE,\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\\xA0created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\"}),/*#__PURE__*/_jsx(\"p\",{children:\");\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800 mb-2\",children:\"\\uD83D\\uDCDD \\u4E0B\\u4E00\\u6B65\\u64CD\\u4F5C\\u6307\\u5357\\uFF1A\"}),/*#__PURE__*/_jsxs(\"ol\",{className:\"text-sm text-blue-700 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"1. \\u521B\\u5EFASupabase\\u9879\\u76EE\\u5E76\\u6267\\u884C\\u4E0A\\u8FF0SQL\\u521B\\u5EFA\\u8868\"}),/*#__PURE__*/_jsx(\"li\",{children:\"2. \\u914D\\u7F6E\\u73AF\\u5883\\u53D8\\u91CF\\u5230\\u90E8\\u7F72\\u5E73\\u53F0\"}),/*#__PURE__*/_jsx(\"li\",{children:\"3. \\u4FEE\\u6539DatabaseService\\u5207\\u6362\\u5230\\u771F\\u5B9ESupabase\\u5BA2\\u6237\\u7AEF\"}),/*#__PURE__*/_jsx(\"li\",{children:\"4. \\u6D4B\\u8BD5\\u6570\\u636E\\u8FC1\\u79FB\\u548CAPI\\u8C03\\u7528\"}),/*#__PURE__*/_jsx(\"li\",{children:\"5. \\u90E8\\u7F72\\u5230Vercel\\u6216GitHub Pages\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-yellow-800 mb-2\",children:\"\\u26A0\\uFE0F \\u5F53\\u524D\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-700 text-sm\",children:\"\\u7CFB\\u7EDF\\u5DF2\\u5B8C\\u621090%\\u5F00\\u53D1\\uFF0C\\u4F7F\\u7528Mock\\u6570\\u636E\\u5E93\\u8FD0\\u884C\\u3002\\u9700\\u8981\\u914D\\u7F6E\\u771F\\u5B9ESupabase\\u6570\\u636E\\u5E93\\u540E\\u5373\\u53EF\\u6295\\u5165\\u751F\\u4EA7\\u4F7F\\u7528\\u3002 \\u6240\\u6709\\u6838\\u5FC3\\u529F\\u80FD\\u5DF2\\u9A8C\\u8BC1\\u5B8C\\u6210\\uFF0C\\u5305\\u62EC\\u667A\\u80FD\\u5BFC\\u5165\\u3001\\u6807\\u7B7E\\u7BA1\\u7406\\u3001\\u719F\\u7EC3\\u5EA6\\u8DDF\\u8E2A\\u7B49\\u3002\"})]})]}),activeTab==='users'&&isAdmin()&&/*#__PURE__*/_jsx(UserManagement,{})]})]})});};// 主应用组件 - 包装认证\nconst App=()=>{console.log('=== App component rendering ===');console.log('Login component:',Login);return/*#__PURE__*/_jsx(AuthProvider,{supabaseClient:supabaseClient,children:/*#__PURE__*/_jsx(AuthGuard,{fallback:/*#__PURE__*/_jsx(Login,{}),children:/*#__PURE__*/_jsx(QuizApp,{})})});};export default App;","map":{"version":3,"names":["AuthProvider","useAuth","AuthGuard","createSupabaseClientFromEnv","Login","React","useState","useEffect","Star","Edit2","Database","Github","LogOut","User","Users","QuestionInput","db","UserManagement","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","supabaseClient","console","log","Object","keys","QuizApp","activeTab","setActiveTab","questions","setQuestions","attempts","setAttempts","loading","setLoading","editingQuestion","setEditingQuestion","user","userProfile","signOut","isAdmin","debugInfo","setDebugInfo","showDebug","setShowDebug","deploymentStatus","setDeploymentStatus","database","ready","checklist","codeOptimized","environmentVars","supabaseConfigured","githubReady","deploymentTested","addDebugInfo","message","timestamp","Date","toLocaleTimeString","prev","slice","filters","setFilters","teacher","semester","category","masteryLevel","lessonNumber","masteryTag","mathCategories","categories","initializeSystem","initializeSupabase","data","questionsData","error","questionsError","selectQuestions","attemptsData","attemptsError","selectAttempts","Error","handleSignOut","window","confirm","addAttempt","questionId","score","isWrong","arguments","length","undefined","attempt","masteryScore","isMarkedWrong","attemptedAt","toISOString","insertAttempt","updateQuestionMasteryTag","updateQuestion","id","updates","map","q","alert","deleteQuestion","confirmDelete","filter","a","avgScore","getNewAverageScore","question","find","newTags","tags","tag","includes","push","newScore","existingAttempts","totalScore","reduce","sum","getQuestionAttempts","getAverageScore","questionAttempts","toFixed","some","filteredQuestions","renderStars","Array","from","_","i","size","className","renderDeploymentPanel","children","entries","_ref","item","status","getConnectionStatus","mode","email","onClick","clearAll","info","index","_q$tags","Set","flatMap","_q$tags2","lesson","_q$tags3","_q$tags4","sort","_q$tags5","value","onChange","e","target","_q$tags6","_q$tags6$filter","_q$tags6$filter$map","_tag$match","match","Boolean","b","parseInt","num","cat","_q$tags7","questionType","Math","round","questionText","answer","solutionSteps","title","App","fallback"],"sources":["/Users/damonxu/Documents/GitHub/my-projects/quiz/src/App.js"],"sourcesContent":["// ✅ 统一使用新的auth模块导入\nimport { AuthProvider, useAuth, AuthGuard, createSupabaseClientFromEnv } from '../../auth/src';\nimport Login from '../../auth/src/components/Login';\nimport React, { useState, useEffect } from 'react';\nimport { Star, Edit2, Database, Github, LogOut, User, Users } from 'lucide-react';\nimport QuestionInput from './components/QuestionInput/index.js';\nimport db from './services/DatabaseService.js';\nimport UserManagement from './components/admin/UserManagement';\n\nconst supabaseClient = createSupabaseClientFromEnv();\n\nconsole.log('Supabase client created:', supabaseClient);\nconsole.log('Supabase client type:', typeof supabaseClient);\nconsole.log('Supabase client keys:', Object.keys(supabaseClient || {}));\n\nconst QuizApp = () => {\n  const [activeTab, setActiveTab] = useState('input');\n  const [questions, setQuestions] = useState([]);\n  const [attempts, setAttempts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editingQuestion, setEditingQuestion] = useState(null);\n  \n  // 认证状态\n  const { user, userProfile, signOut, isAdmin } = useAuth();\n  \n  // 调试和部署状态\n  const [debugInfo, setDebugInfo] = useState([]);\n  const [showDebug, setShowDebug] = useState(false);\n  const [deploymentStatus, setDeploymentStatus] = useState({\n    database: 'mock',\n    ready: false,\n    checklist: {\n      codeOptimized: true,\n      environmentVars: false,\n      supabaseConfigured: false,\n      githubReady: false,\n      deploymentTested: false\n    }\n  });\n  \n  const addDebugInfo = (message) => {\n    if (showDebug) {\n      const timestamp = new Date().toLocaleTimeString();\n      setDebugInfo(prev => [...prev.slice(-4), `${timestamp}: ${message}`]);\n    }\n  };\n  \n  // 筛选状态\n  const [filters, setFilters] = useState({\n    teacher: '',\n    semester: '',\n    category: '',\n    masteryLevel: '',\n    lessonNumber: '',\n    masteryTag: ''\n  });\n\n  // 分类和配置\n  const mathCategories = ['计算', '计数', '几何', '数论', '应用题', '行程', '组合'];\n  const categories = ['行程', '组合', '数论', '几何', '计算', '应用题', '逻辑推理', '计数', '其他'];\n\n  // 初始化数据加载\n  useEffect(() => {\n    const initializeSystem = async () => {\n      try {\n        // 初始化数据库连接\n        await db.initializeSupabase();\n        \n        // 加载数据\n        const { data: questionsData, error: questionsError } = await db.selectQuestions();\n        const { data: attemptsData, error: attemptsError } = await db.selectAttempts();\n        \n        if (questionsError || attemptsError) {\n          throw new Error('数据加载失败');\n        }\n        \n        setQuestions(questionsData || []);\n        setAttempts(attemptsData || []);\n        \n        addDebugInfo('系统初始化完成');\n      } catch (error) {\n        console.error('系统初始化失败:', error);\n        addDebugInfo('系统初始化失败: ' + error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    initializeSystem();\n  }, []);\n\n  // 登出处理\n  const handleSignOut = async () => {\n    if (window.confirm('确定要退出登录吗？')) {\n      await signOut();\n    }\n  };\n\n  // 学习记录操作\n  const addAttempt = async (questionId, score, isWrong = false) => {\n    const attempt = {\n      questionId,\n      masteryScore: score,\n      isMarkedWrong: isWrong,\n      attemptedAt: new Date().toISOString()\n    };\n    \n    try {\n      const { data, error } = await db.insertAttempt(attempt);\n      if (error) throw error;\n      \n      setAttempts([...attempts, data]);\n      updateQuestionMasteryTag(questionId, score, isWrong);\n    } catch (error) {\n      console.error('记录学习失败:', error);\n    }\n  };\n\n  const updateQuestion = async (id, updates) => {\n    try {\n      const { data, error } = await db.updateQuestion(id, updates);\n      if (error) throw error;\n      \n      setQuestions(questions.map(q => q.id === id ? { ...q, ...updates } : q));\n      setEditingQuestion(null);\n      alert('题目更新成功！');\n    } catch (error) {\n      console.error('更新失败:', error);\n      alert('更新失败，请检查数据库连接');\n    }\n  };\n\n  const deleteQuestion = async (id) => {\n    const confirmDelete = () => {\n    return window.confirm('确定要删除这道题目吗？');\n  };\n\n    if (!confirmDelete()) return;\n    \n    try {\n      const { error } = await db.deleteQuestion(id);\n      if (error) throw error;\n      \n      setQuestions(questions.filter(q => q.id !== id));\n      setAttempts(attempts.filter(a => a.questionId !== id));\n      alert('题目删除成功！');\n    } catch (error) {\n      console.error('删除失败:', error);\n      alert('删除失败，请检查数据库连接');\n    }\n  };\n\n  const updateQuestionMasteryTag = (questionId, score, isWrong) => {\n    const avgScore = getNewAverageScore(questionId, score);\n    let masteryTag = '';\n    \n    if (isWrong) {\n      masteryTag = '错题';\n    } else if (avgScore >= 4) {\n      masteryTag = '熟练';\n    } else if (avgScore >= 3) {\n      masteryTag = '一般';\n    } else {\n      masteryTag = '不熟练';\n    }\n\n    const question = questions.find(q => q.id === questionId);\n    if (question) {\n      const newTags = question.tags.filter(tag => \n        !['错题', '熟练', '一般', '不熟练'].includes(tag)\n      );\n      newTags.push(masteryTag);\n      \n      updateQuestion(questionId, { tags: newTags });\n    }\n  };\n\n  const getNewAverageScore = (questionId, newScore) => {\n    const existingAttempts = attempts.filter(a => a.questionId === questionId);\n    const totalScore = existingAttempts.reduce((sum, a) => sum + a.masteryScore, 0) + newScore;\n    return totalScore / (existingAttempts.length + 1);\n  };\n\n  const getQuestionAttempts = (questionId) => {\n    return attempts.filter(a => a.questionId === questionId);\n  };\n\n  const getAverageScore = (questionId) => {\n    const questionAttempts = getQuestionAttempts(questionId);\n    if (questionAttempts.length === 0) return 0;\n    return (questionAttempts.reduce((sum, a) => sum + a.masteryScore, 0) / questionAttempts.length).toFixed(1);\n  };\n\n  const isMarkedWrong = (questionId) => {\n    return attempts.some(a => a.questionId === questionId && a.isMarkedWrong);\n  };\n\n  const filteredQuestions = questions.filter(q => {\n    return (!filters.teacher || q.tags.some(tag => tag.includes(filters.teacher))) &&\n           (!filters.semester || q.tags.some(tag => tag.includes(filters.semester))) &&\n           (!filters.category || q.tags.some(tag => tag === filters.category)) &&\n           (!filters.lessonNumber || q.tags.some(tag => tag.includes(`第${filters.lessonNumber}讲`))) &&\n           (!filters.masteryTag || q.tags.some(tag => tag === filters.masteryTag)) &&\n           (!filters.masteryLevel || \n            (filters.masteryLevel === 'unfamiliar' && getAverageScore(q.id) <= 2) ||\n            (filters.masteryLevel === 'familiar' && getAverageScore(q.id) >= 4) ||\n            (filters.masteryLevel === 'wrong' && isMarkedWrong(q.id)));\n  });\n\n  const renderStars = (score) => {\n    return Array.from({length: 5}, (_, i) => (\n      <Star \n        key={i} \n        size={16} \n        className={i < score ? 'fill-yellow-400 text-yellow-400' : 'text-gray-300'} \n      />\n    ));\n  };\n\n  // 部署检查面板\n  const renderDeploymentPanel = () => (\n    <div className=\"bg-blue-50 p-6 rounded-lg mb-6\">\n      <h3 className=\"text-lg font-semibold text-blue-800 mb-4 flex items-center gap-2\">\n        <Github size={20} />\n        🚀 部署准备检查\n      </h3>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n        <div className=\"bg-white p-4 rounded border\">\n          <h4 className=\"font-medium text-gray-800 mb-3\">📋 部署检查清单</h4>\n          <div className=\"space-y-2 text-sm\">\n            {Object.entries({\n              '代码优化完成': deploymentStatus.checklist.codeOptimized,\n              '环境变量配置': deploymentStatus.checklist.environmentVars,\n              'Supabase配置': deploymentStatus.checklist.supabaseConfigured,\n              'GitHub准备': deploymentStatus.checklist.githubReady,\n              '部署测试': deploymentStatus.checklist.deploymentTested\n            }).map(([item, status]) => (\n              <div key={item} className=\"flex items-center gap-2\">\n                <span className={`w-4 h-4 rounded-full ${status ? 'bg-green-500' : 'bg-gray-300'}`}></span>\n                <span className={status ? 'text-green-700' : 'text-gray-600'}>{item}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n        \n        <div className=\"bg-white p-4 rounded border\">\n          <h4 className=\"font-medium text-gray-800 mb-3\">🔗 数据库连接状态</h4>\n          <div className=\"text-sm\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Database size={16} className=\"text-blue-500\" />\n              <span>模式: {db.getConnectionStatus().mode}</span>\n            </div>\n            <div className=\"text-gray-600\">\n              <p>• 当前使用: {db.getConnectionStatus().status}</p>\n              <p>• 题目数量: {questions.length}</p>\n              <p>• 学习记录: {attempts.length}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"bg-white p-4 rounded border mb-4\">\n        <h4 className=\"font-medium text-gray-800 mb-3\">📦 生产环境配置</h4>\n        <div className=\"text-sm text-gray-700 space-y-2\">\n          <p><strong>环境变量设置:</strong></p>\n          <div className=\"bg-gray-100 p-3 rounded font-mono text-xs\">\n            <p>REACT_APP_SUPABASE_URL=your-supabase-project-url</p>\n            <p>REACT_APP_SUPABASE_ANON_KEY=your-supabase-anon-key</p>\n            <p>NODE_ENV=production</p>\n          </div>\n          <p className=\"text-orange-600 mt-2\">⚠️ 部署前需要创建真实的Supabase项目并配置以上环境变量</p>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <div className=\"max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">正在从数据库加载题目...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen\">\n      <div className=\"bg-white rounded-lg shadow-lg\">\n        {/* 顶部用户信息栏 */}\n        <div className=\"px-6 py-4 bg-gray-50 border-b border-gray-200 rounded-t-lg\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-4\">\n              <h1 className=\"text-xl font-bold text-gray-900\">题库管理系统</h1>\n              <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                <User size={16} />\n                <span>{user?.email}</span>\n                {userProfile?.status === 'approved' && (\n                  <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded text-xs\">已认证</span>\n                )}\n                {isAdmin() && (\n                  <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs\">管理员</span>\n                )}\n              </div>\n            </div>\n            <button\n              onClick={handleSignOut}\n              className=\"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors\"\n            >\n              <LogOut size={16} />\n              <span>退出登录</span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"flex space-x-8 px-6\">\n            <button\n              onClick={() => setActiveTab('input')}\n              className={`py-4 px-2 border-b-2 font-medium text-sm ${\n                activeTab === 'input' \n                  ? 'border-blue-500 text-blue-600' \n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              录入题目\n            </button>\n            <button\n              onClick={() => setActiveTab('browse')}\n              className={`py-4 px-2 border-b-2 font-medium text-sm ${\n                activeTab === 'browse' \n                  ? 'border-blue-500 text-blue-600' \n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              浏览题库 ({questions.length})\n            </button>\n            <button\n              onClick={() => setActiveTab('practice')}\n              className={`py-4 px-2 border-b-2 font-medium text-sm ${\n                activeTab === 'practice' \n                  ? 'border-blue-500 text-blue-600' \n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              练习模式\n            </button>\n            <button\n              onClick={() => setActiveTab('deploy')}\n              className={`py-4 px-2 border-b-2 font-medium text-sm ${\n                activeTab === 'deploy' \n                  ? 'border-blue-500 text-blue-600' \n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              🚀 部署\n            </button>\n            {/* 管理员才能看到用户管理 */}\n            {isAdmin() && (\n              <button\n                onClick={() => setActiveTab('users')}\n                className={`py-4 px-2 border-b-2 font-medium text-sm ${\n                  activeTab === 'users' \n                    ? 'border-blue-500 text-blue-600' \n                    : 'border-transparent text-gray-500 hover:text-gray-700'\n                }`}\n              >\n                <Users size={16} className=\"inline mr-1\" />\n                用户管理\n              </button>\n            )}\n          </nav>\n        </div>\n\n        <div className=\"p-6\">\n          {activeTab === 'input' && (\n            <div>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-bold text-gray-900\">录入新题目</h2>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => setShowDebug(!showDebug)}\n                    className={`px-4 py-2 rounded-lg text-white ${showDebug ? 'bg-orange-500 hover:bg-orange-600' : 'bg-gray-500 hover:bg-gray-600'}`}\n                  >\n                    🔍 {showDebug ? '关闭' : '开启'}调试\n                  </button>\n                  <button\n                    onClick={() => {\n                      db.clearAll();\n                      setQuestions([]);\n                      setAttempts([]);\n                      setDebugInfo([]);\n                      if (showDebug) addDebugInfo('手动清空所有数据');\n                      alert('已清空所有数据！');\n                    }}\n                    className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\n                  >\n                    🗑️ 清空数据\n                  </button>\n                </div>\n              </div>\n\n              {/* 调试信息面板 */}\n              {showDebug && debugInfo.length > 0 && (\n                <div className=\"bg-gray-900 text-green-400 p-4 rounded-lg mb-6 font-mono text-sm\">\n                  <h4 className=\"text-white mb-2\">🔍 调试信息：</h4>\n                  <div className=\"max-h-24 overflow-y-auto\">\n                    {debugInfo.map((info, index) => (\n                      <div key={index}>{info}</div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* QuestionInput 组件 */}\n              <QuestionInput \n                questions={questions}\n                setQuestions={setQuestions}\n                db={db}\n                addDebugInfo={addDebugInfo}\n                showDebug={showDebug}\n              />\n\n              {/* 数据库统计 */}\n              {questions.length > 0 && (\n                <div>\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold\">📊 数据库统计</h3>\n                    <div className=\"flex gap-4 text-sm\">\n                      <span className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded\">\n                        💾 总题目: {questions.length}\n                      </span>\n                      {questions.length > 0 && (\n                        <>\n                          <span className=\"bg-green-100 text-green-800 px-3 py-1 rounded\">\n                            🧮 计数类: {questions.filter(q => q.tags?.includes('计数')).length}\n                          </span>\n                          {Array.from(new Set(questions.flatMap(q => \n                            q.tags?.filter(tag => tag.includes('第') && tag.includes('讲')) || []\n                          ))).slice(0, 3).map(lesson => (\n                            <span key={lesson} className=\"bg-purple-100 text-purple-800 px-3 py-1 rounded\">\n                              📖 {lesson}: {questions.filter(q => q.tags?.includes(lesson)).length}\n                            </span>\n                          ))}\n                        </>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-gray-50 p-4 rounded-lg mb-4\">\n                    <h4 className=\"font-medium mb-2\">📈 按讲次分组统计：</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\">\n                      {Array.from(new Set(questions.flatMap(q => \n                        q.tags?.filter(tag => tag.includes('第') && tag.includes('讲')) || []\n                      ))).sort().map(lesson => (\n                        <div key={lesson} className=\"bg-white px-3 py-2 rounded border\">\n                          <span className=\"font-medium\">{lesson}:</span>\n                          <span className=\"ml-1 text-blue-600\">\n                            {questions.filter(q => q.tags?.includes(lesson)).length}题\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-green-50 border border-green-200 p-4 rounded-lg mb-4\">\n                    <h4 className=\"font-medium text-green-800 mb-2\">✅ 数据库连接状态</h4>\n                    <div className=\"text-sm text-green-700\">\n                      <p>• 已连接到{db.getConnectionStatus().mode}数据库</p>\n                      <p>• 状态: {db.getConnectionStatus().status}</p>\n                      <p>• 数据持久化保存，支持实时增删改查操作</p>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'browse' && (\n            <div>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-bold text-gray-900\">📚 题库浏览</h2>\n                <div className=\"flex gap-2 flex-wrap\">\n                  <select\n                    value={filters.teacher}\n                    onChange={(e) => setFilters({...filters, teacher: e.target.value})}\n                    className=\"p-2 border border-gray-300 rounded-lg text-sm\"\n                  >\n                    <option value=\"\">所有老师</option>\n                    <option value=\"岛主\">岛主</option>\n                    <option value=\"普老师\">普老师</option>\n                  </select>\n                  <select\n                    value={filters.lessonNumber}\n                    onChange={(e) => setFilters({...filters, lessonNumber: e.target.value})}\n                    className=\"p-2 border border-gray-300 rounded-lg text-sm\"\n                  >\n                    <option value=\"\">所有讲次</option>\n                    {Array.from(new Set(questions.flatMap(q => \n                      q.tags?.filter(tag => tag.includes('第') && tag.includes('讲'))\n                        ?.map(tag => tag.match(/第(\\d+)讲/)?.[1])\n                        ?.filter(Boolean) || []\n                    ))).sort((a, b) => parseInt(a) - parseInt(b)).map(num => (\n                      <option key={num} value={num}>第{num}讲</option>\n                    ))}\n                  </select>\n                  <select\n                    value={filters.category}\n                    onChange={(e) => setFilters({...filters, category: e.target.value})}\n                    className=\"p-2 border border-gray-300 rounded-lg text-sm\"\n                  >\n                    <option value=\"\">所有分类</option>\n                    {mathCategories.map(cat => (\n                      <option key={cat} value={cat}>{cat}</option>\n                    ))}\n                  </select>\n                  <select\n                    value={filters.masteryTag}\n                    onChange={(e) => setFilters({...filters, masteryTag: e.target.value})}\n                    className=\"p-2 border border-gray-300 rounded-lg text-sm\"\n                  >\n                    <option value=\"\">所有熟练度</option>\n                    <option value=\"错题\">错题</option>\n                    <option value=\"不熟练\">不熟练</option>\n                    <option value=\"一般\">一般</option>\n                    <option value=\"熟练\">熟练</option>\n                  </select>\n                  <button\n                    onClick={() => setFilters({teacher: '', semester: '', category: '', masteryLevel: '', lessonNumber: '', masteryTag: ''})}\n                    className=\"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg\"\n                  >\n                    清除筛选\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"space-y-4\">\n                {filteredQuestions.map(q => (\n                  <div key={q.id} className=\"bg-white border border-gray-200 p-6 rounded-lg\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex flex-wrap items-center gap-2 mb-2\">\n                          <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded font-medium\">\n                            {q.questionType}\n                          </span>\n                          {q.tags?.map((tag, index) => (\n                            <span\n                              key={index}\n                              className={`text-xs px-2 py-1 rounded ${\n                                tag === '错题' ? 'bg-red-100 text-red-800' :\n                                tag === '不熟练' ? 'bg-yellow-100 text-yellow-800' :\n                                tag === '一般' ? 'bg-blue-100 text-blue-800' :\n                                tag === '熟练' ? 'bg-green-100 text-green-800' :\n                                mathCategories.includes(tag) ? 'bg-purple-100 text-purple-800' :\n                                tag.includes('第') && tag.includes('讲') ? 'bg-indigo-100 text-indigo-800' :\n                                'bg-gray-100 text-gray-600'\n                              }`}\n                            >\n                              {tag}\n                            </span>\n                          )) || []}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <button\n                          onClick={() => setEditingQuestion(editingQuestion === q.id ? null : q.id)}\n                          className=\"text-gray-500 hover:text-blue-500\"\n                        >\n                          <Edit2 size={16} />\n                        </button>\n                        <div className=\"flex items-center gap-1\">\n                          {renderStars(Math.round(getAverageScore(q.id)))}\n                          <span className=\"text-sm text-gray-500 ml-1\">({getAverageScore(q.id)})</span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"mb-4\">\n                      <h4 className=\"font-medium text-gray-900 mb-2\">题目：</h4>\n                      <p className=\"text-gray-700\">{q.questionText}</p>\n                    </div>\n                    \n                    <div className=\"mb-4\">\n                      <h4 className=\"font-medium text-gray-900 mb-2\">答案：</h4>\n                      <p className=\"text-gray-700\">{q.answer}</p>\n                    </div>\n                    \n                    {q.solutionSteps && (\n                      <div className=\"mb-4\">\n                        <h4 className=\"font-medium text-gray-900 mb-2\">解题思路：</h4>\n                        <p className=\"text-gray-700 whitespace-pre-line\">{q.solutionSteps}</p>\n                      </div>\n                    )}\n                    \n                    <div className=\"flex gap-2 pt-4 border-t border-gray-100\">\n                      <span className=\"text-sm text-gray-500\">熟悉度评分：</span>\n                      {[1,2,3,4,5].map(score => (\n                        <button\n                          key={score}\n                          onClick={() => addAttempt(q.id, score)}\n                          className=\"text-yellow-400 hover:text-yellow-500 flex items-center\"\n                          title={`${score}星熟练度`}\n                        >\n                          <Star size={20} />\n                          <span className=\"text-xs ml-1\">{score}</span>\n                        </button>\n                      ))}\n                      <button\n                        onClick={() => addAttempt(q.id, 1, true)}\n                        className=\"ml-4 text-red-500 hover:text-red-600 text-sm px-2 py-1 border border-red-300 rounded\"\n                      >\n                        ❌ 标记错题\n                      </button>\n                    </div>\n                  </div>\n                ))}\n                \n                {filteredQuestions.length === 0 && (\n                  <div className=\"text-center py-12 text-gray-500\">\n                    {questions.length === 0 ? '数据库中还没有题目，去添加第一道题吧！' : '没有符合条件的题目'}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'practice' && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">🎯 练习模式</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-red-50 border border-red-200 p-6 rounded-lg\">\n                  <h3 className=\"text-lg font-semibold text-red-800 mb-2\">❌ 错题复习</h3>\n                  <p className=\"text-red-600 mb-4\">复习已标记的错题</p>\n                  <p className=\"text-2xl font-bold text-red-800\">\n                    {attempts.filter(a => a.isMarkedWrong).length}\n                  </p>\n                  <p className=\"text-sm text-red-600\">道错题</p>\n                </div>\n                \n                <div className=\"bg-yellow-50 border border-yellow-200 p-6 rounded-lg\">\n                  <h3 className=\"text-lg font-semibold text-yellow-800 mb-2\">⭐ 不熟悉题目</h3>\n                  <p className=\"text-yellow-600 mb-4\">评分1-2星的题目</p>\n                  <p className=\"text-2xl font-bold text-yellow-800\">\n                    {questions.filter(q => getAverageScore(q.id) <= 2 && getAverageScore(q.id) > 0).length}\n                  </p>\n                  <p className=\"text-sm text-yellow-600\">道题目</p>\n                </div>\n                \n                <div className=\"bg-green-50 border border-green-200 p-6 rounded-lg\">\n                  <h3 className=\"text-lg font-semibold text-green-800 mb-2\">🎲 随机练习</h3>\n                  <p className=\"text-green-600 mb-4\">从题库中随机抽取</p>\n                  <p className=\"text-2xl font-bold text-green-800\">\n                    {questions.length}\n                  </p>\n                  <p className=\"text-sm text-green-600\">道题目可选</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'deploy' && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">🚀 部署准备</h2>\n              {renderDeploymentPanel()}\n              \n              <div className=\"bg-white p-6 rounded-lg border mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">📋 Supabase数据表设计</h3>\n                <div className=\"bg-gray-100 p-4 rounded font-mono text-sm overflow-x-auto\">\n                  <div className=\"mb-4\">\n                    <p className=\"font-bold text-blue-600\">-- questions表</p>\n                    <p>CREATE TABLE questions (</p>\n                    <p>&nbsp;&nbsp;id BIGSERIAL PRIMARY KEY,</p>\n                    <p>&nbsp;&nbsp;question_type VARCHAR(20) NOT NULL,</p>\n                    <p>&nbsp;&nbsp;question_text TEXT NOT NULL,</p>\n                    <p>&nbsp;&nbsp;answer TEXT,</p>\n                    <p>&nbsp;&nbsp;solution_steps TEXT,</p>\n                    <p>&nbsp;&nbsp;tags TEXT[] DEFAULT ARRAY[]::TEXT[],</p>\n                    <p>&nbsp;&nbsp;created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),</p>\n                    <p>&nbsp;&nbsp;updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()</p>\n                    <p>);</p>\n                  </div>\n                  <div className=\"mb-4\">\n                    <p className=\"font-bold text-green-600\">-- attempts表</p>\n                    <p>CREATE TABLE attempts (</p>\n                    <p>&nbsp;&nbsp;id BIGSERIAL PRIMARY KEY,</p>\n                    <p>&nbsp;&nbsp;question_id BIGINT REFERENCES questions(id) ON DELETE CASCADE,</p>\n                    <p>&nbsp;&nbsp;mastery_score INTEGER CHECK (mastery_score &gt;= 1 AND mastery_score &lt;= 5),</p>\n                    <p>&nbsp;&nbsp;is_marked_wrong BOOLEAN DEFAULT FALSE,</p>\n                    <p>&nbsp;&nbsp;created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()</p>\n                    <p>);</p>\n                  </div>\n                </div>\n                \n                <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\n                  <h4 className=\"font-medium text-blue-800 mb-2\">📝 下一步操作指南：</h4>\n                  <ol className=\"text-sm text-blue-700 space-y-1\">\n                    <li>1. 创建Supabase项目并执行上述SQL创建表</li>\n                    <li>2. 配置环境变量到部署平台</li>\n                    <li>3. 修改DatabaseService切换到真实Supabase客户端</li>\n                    <li>4. 测试数据迁移和API调用</li>\n                    <li>5. 部署到Vercel或GitHub Pages</li>\n                  </ol>\n                </div>\n              </div>\n              \n              <div className=\"bg-yellow-50 border border-yellow-200 p-4 rounded-lg\">\n                <h4 className=\"font-medium text-yellow-800 mb-2\">⚠️ 当前状态</h4>\n                <p className=\"text-yellow-700 text-sm\">\n                  系统已完成90%开发，使用Mock数据库运行。需要配置真实Supabase数据库后即可投入生产使用。\n                  所有核心功能已验证完成，包括智能导入、标签管理、熟练度跟踪等。\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* 用户管理 - 只有管理员能看到 */}\n          {activeTab === 'users' && isAdmin() && (\n            <UserManagement />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 主应用组件 - 包装认证\nconst App = () => {\n  console.log('=== App component rendering ===');\n  console.log('Login component:', Login);\n  return (\n    <AuthProvider supabaseClient={supabaseClient}>\n      <AuthGuard fallback={<Login />}>\n        <QuizApp />\n      </AuthGuard>\n    </AuthProvider>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}