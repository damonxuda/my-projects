{"ast":null,"code":"var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols===\"function\")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]];}return t;};import{API_VERSIONS,API_VERSION_HEADER_NAME}from'./constants';import{expiresAt,looksLikeFetchResponse,parseResponseAPIVersion}from'./helpers';import{AuthApiError,AuthRetryableFetchError,AuthWeakPasswordError,AuthUnknownError,AuthSessionMissingError}from'./errors';const _getErrorMessage=err=>err.msg||err.message||err.error_description||err.error||JSON.stringify(err);const NETWORK_ERROR_CODES=[502,503,504];export async function handleError(error){var _a;if(!looksLikeFetchResponse(error)){throw new AuthRetryableFetchError(_getErrorMessage(error),0);}if(NETWORK_ERROR_CODES.includes(error.status)){// status in 500...599 range - server had an error, request might be retryed.\nthrow new AuthRetryableFetchError(_getErrorMessage(error),error.status);}let data;try{data=await error.json();}catch(e){throw new AuthUnknownError(_getErrorMessage(e),e);}let errorCode=undefined;const responseAPIVersion=parseResponseAPIVersion(error);if(responseAPIVersion&&responseAPIVersion.getTime()>=API_VERSIONS['2024-01-01'].timestamp&&typeof data==='object'&&data&&typeof data.code==='string'){errorCode=data.code;}else if(typeof data==='object'&&data&&typeof data.error_code==='string'){errorCode=data.error_code;}if(!errorCode){// Legacy support for weak password errors, when there were no error codes\nif(typeof data==='object'&&data&&typeof data.weak_password==='object'&&data.weak_password&&Array.isArray(data.weak_password.reasons)&&data.weak_password.reasons.length&&data.weak_password.reasons.reduce((a,i)=>a&&typeof i==='string',true)){throw new AuthWeakPasswordError(_getErrorMessage(data),error.status,data.weak_password.reasons);}}else if(errorCode==='weak_password'){throw new AuthWeakPasswordError(_getErrorMessage(data),error.status,((_a=data.weak_password)===null||_a===void 0?void 0:_a.reasons)||[]);}else if(errorCode==='session_not_found'){// The `session_id` inside the JWT does not correspond to a row in the\n// `sessions` table. This usually means the user has signed out, has been\n// deleted, or their session has somehow been terminated.\nthrow new AuthSessionMissingError();}throw new AuthApiError(_getErrorMessage(data),error.status||500,errorCode);}const _getRequestParams=(method,options,parameters,body)=>{const params={method,headers:(options===null||options===void 0?void 0:options.headers)||{}};if(method==='GET'){return params;}params.headers=Object.assign({'Content-Type':'application/json;charset=UTF-8'},options===null||options===void 0?void 0:options.headers);params.body=JSON.stringify(body);return Object.assign(Object.assign({},params),parameters);};export async function _request(fetcher,method,url,options){var _a;const headers=Object.assign({},options===null||options===void 0?void 0:options.headers);if(!headers[API_VERSION_HEADER_NAME]){headers[API_VERSION_HEADER_NAME]=API_VERSIONS['2024-01-01'].name;}if(options===null||options===void 0?void 0:options.jwt){headers['Authorization']=`Bearer ${options.jwt}`;}const qs=(_a=options===null||options===void 0?void 0:options.query)!==null&&_a!==void 0?_a:{};if(options===null||options===void 0?void 0:options.redirectTo){qs['redirect_to']=options.redirectTo;}const queryString=Object.keys(qs).length?'?'+new URLSearchParams(qs).toString():'';const data=await _handleRequest(fetcher,method,url+queryString,{headers,noResolveJson:options===null||options===void 0?void 0:options.noResolveJson},{},options===null||options===void 0?void 0:options.body);return(options===null||options===void 0?void 0:options.xform)?options===null||options===void 0?void 0:options.xform(data):{data:Object.assign({},data),error:null};}async function _handleRequest(fetcher,method,url,options,parameters,body){const requestParams=_getRequestParams(method,options,parameters,body);let result;try{result=await fetcher(url,Object.assign({},requestParams));}catch(e){console.error(e);// fetch failed, likely due to a network or CORS error\nthrow new AuthRetryableFetchError(_getErrorMessage(e),0);}if(!result.ok){await handleError(result);}if(options===null||options===void 0?void 0:options.noResolveJson){return result;}try{return await result.json();}catch(e){await handleError(e);}}export function _sessionResponse(data){var _a;let session=null;if(hasSession(data)){session=Object.assign({},data);if(!data.expires_at){session.expires_at=expiresAt(data.expires_in);}}const user=(_a=data.user)!==null&&_a!==void 0?_a:data;return{data:{session,user},error:null};}export function _sessionResponsePassword(data){const response=_sessionResponse(data);if(!response.error&&data.weak_password&&typeof data.weak_password==='object'&&Array.isArray(data.weak_password.reasons)&&data.weak_password.reasons.length&&data.weak_password.message&&typeof data.weak_password.message==='string'&&data.weak_password.reasons.reduce((a,i)=>a&&typeof i==='string',true)){response.data.weak_password=data.weak_password;}return response;}export function _userResponse(data){var _a;const user=(_a=data.user)!==null&&_a!==void 0?_a:data;return{data:{user},error:null};}export function _ssoResponse(data){return{data,error:null};}export function _generateLinkResponse(data){const{action_link,email_otp,hashed_token,redirect_to,verification_type}=data,rest=__rest(data,[\"action_link\",\"email_otp\",\"hashed_token\",\"redirect_to\",\"verification_type\"]);const properties={action_link,email_otp,hashed_token,redirect_to,verification_type};const user=Object.assign({},rest);return{data:{properties,user},error:null};}export function _noResolveJsonResponse(data){return data;}/**\n * hasSession checks if the response object contains a valid session\n * @param data A response object\n * @returns true if a session is in the response\n */function hasSession(data){return data.access_token&&data.refresh_token&&data.expires_in;}","map":{"version":3,"names":["API_VERSIONS","API_VERSION_HEADER_NAME","expiresAt","looksLikeFetchResponse","parseResponseAPIVersion","AuthApiError","AuthRetryableFetchError","AuthWeakPasswordError","AuthUnknownError","AuthSessionMissingError","_getErrorMessage","err","msg","message","error_description","error","JSON","stringify","NETWORK_ERROR_CODES","handleError","includes","status","data","json","e","errorCode","undefined","responseAPIVersion","getTime","timestamp","code","error_code","weak_password","Array","isArray","reasons","length","reduce","a","i","_a","_getRequestParams","method","options","parameters","body","params","headers","Object","assign","_request","fetcher","url","name","jwt","qs","query","redirectTo","queryString","keys","URLSearchParams","toString","_handleRequest","noResolveJson","xform","requestParams","result","console","ok","_sessionResponse","session","hasSession","expires_at","expires_in","user","_sessionResponsePassword","response","_userResponse","_ssoResponse","_generateLinkResponse","action_link","email_otp","hashed_token","redirect_to","verification_type","rest","__rest","properties","_noResolveJsonResponse","access_token","refresh_token"],"sources":["/Users/damonxu/Documents/GitHub/my-projects/auth/node_modules/@supabase/auth-js/src/lib/fetch.ts"],"sourcesContent":["import { API_VERSIONS, API_VERSION_HEADER_NAME } from './constants'\nimport { expiresAt, looksLikeFetchResponse, parseResponseAPIVersion } from './helpers'\nimport {\n  AuthResponse,\n  AuthResponsePassword,\n  SSOResponse,\n  GenerateLinkProperties,\n  GenerateLinkResponse,\n  User,\n  UserResponse,\n} from './types'\nimport {\n  AuthApiError,\n  AuthRetryableFetchError,\n  AuthWeakPasswordError,\n  AuthUnknownError,\n  AuthSessionMissingError,\n} from './errors'\n\nexport type Fetch = typeof fetch\n\nexport interface FetchOptions {\n  headers?: {\n    [key: string]: string\n  }\n  noResolveJson?: boolean\n}\n\nexport interface FetchParameters {\n  signal?: AbortSignal\n}\n\nexport type RequestMethodType = 'GET' | 'POST' | 'PUT' | 'DELETE'\n\nconst _getErrorMessage = (err: any): string =>\n  err.msg || err.message || err.error_description || err.error || JSON.stringify(err)\n\nconst NETWORK_ERROR_CODES = [502, 503, 504]\n\nexport async function handleError(error: unknown) {\n  if (!looksLikeFetchResponse(error)) {\n    throw new AuthRetryableFetchError(_getErrorMessage(error), 0)\n  }\n\n  if (NETWORK_ERROR_CODES.includes(error.status)) {\n    // status in 500...599 range - server had an error, request might be retryed.\n    throw new AuthRetryableFetchError(_getErrorMessage(error), error.status)\n  }\n\n  let data: any\n  try {\n    data = await error.json()\n  } catch (e: any) {\n    throw new AuthUnknownError(_getErrorMessage(e), e)\n  }\n\n  let errorCode: string | undefined = undefined\n\n  const responseAPIVersion = parseResponseAPIVersion(error)\n  if (\n    responseAPIVersion &&\n    responseAPIVersion.getTime() >= API_VERSIONS['2024-01-01'].timestamp &&\n    typeof data === 'object' &&\n    data &&\n    typeof data.code === 'string'\n  ) {\n    errorCode = data.code\n  } else if (typeof data === 'object' && data && typeof data.error_code === 'string') {\n    errorCode = data.error_code\n  }\n\n  if (!errorCode) {\n    // Legacy support for weak password errors, when there were no error codes\n    if (\n      typeof data === 'object' &&\n      data &&\n      typeof data.weak_password === 'object' &&\n      data.weak_password &&\n      Array.isArray(data.weak_password.reasons) &&\n      data.weak_password.reasons.length &&\n      data.weak_password.reasons.reduce((a: boolean, i: any) => a && typeof i === 'string', true)\n    ) {\n      throw new AuthWeakPasswordError(\n        _getErrorMessage(data),\n        error.status,\n        data.weak_password.reasons\n      )\n    }\n  } else if (errorCode === 'weak_password') {\n    throw new AuthWeakPasswordError(\n      _getErrorMessage(data),\n      error.status,\n      data.weak_password?.reasons || []\n    )\n  } else if (errorCode === 'session_not_found') {\n    // The `session_id` inside the JWT does not correspond to a row in the\n    // `sessions` table. This usually means the user has signed out, has been\n    // deleted, or their session has somehow been terminated.\n    throw new AuthSessionMissingError()\n  }\n\n  throw new AuthApiError(_getErrorMessage(data), error.status || 500, errorCode)\n}\n\nconst _getRequestParams = (\n  method: RequestMethodType,\n  options?: FetchOptions,\n  parameters?: FetchParameters,\n  body?: object\n) => {\n  const params: { [k: string]: any } = { method, headers: options?.headers || {} }\n\n  if (method === 'GET') {\n    return params\n  }\n\n  params.headers = { 'Content-Type': 'application/json;charset=UTF-8', ...options?.headers }\n  params.body = JSON.stringify(body)\n  return { ...params, ...parameters }\n}\n\ninterface GotrueRequestOptions extends FetchOptions {\n  jwt?: string\n  redirectTo?: string\n  body?: object\n  query?: { [key: string]: string }\n  /**\n   * Function that transforms api response from gotrue into a desirable / standardised format\n   */\n  xform?: (data: any) => any\n}\n\nexport async function _request(\n  fetcher: Fetch,\n  method: RequestMethodType,\n  url: string,\n  options?: GotrueRequestOptions\n) {\n  const headers = {\n    ...options?.headers,\n  }\n\n  if (!headers[API_VERSION_HEADER_NAME]) {\n    headers[API_VERSION_HEADER_NAME] = API_VERSIONS['2024-01-01'].name\n  }\n\n  if (options?.jwt) {\n    headers['Authorization'] = `Bearer ${options.jwt}`\n  }\n\n  const qs = options?.query ?? {}\n  if (options?.redirectTo) {\n    qs['redirect_to'] = options.redirectTo\n  }\n\n  const queryString = Object.keys(qs).length ? '?' + new URLSearchParams(qs).toString() : ''\n  const data = await _handleRequest(\n    fetcher,\n    method,\n    url + queryString,\n    {\n      headers,\n      noResolveJson: options?.noResolveJson,\n    },\n    {},\n    options?.body\n  )\n  return options?.xform ? options?.xform(data) : { data: { ...data }, error: null }\n}\n\nasync function _handleRequest(\n  fetcher: Fetch,\n  method: RequestMethodType,\n  url: string,\n  options?: FetchOptions,\n  parameters?: FetchParameters,\n  body?: object\n): Promise<any> {\n  const requestParams = _getRequestParams(method, options, parameters, body)\n\n  let result: any\n\n  try {\n    result = await fetcher(url, {\n      ...requestParams,\n    })\n  } catch (e) {\n    console.error(e)\n\n    // fetch failed, likely due to a network or CORS error\n    throw new AuthRetryableFetchError(_getErrorMessage(e), 0)\n  }\n\n  if (!result.ok) {\n    await handleError(result)\n  }\n\n  if (options?.noResolveJson) {\n    return result\n  }\n\n  try {\n    return await result.json()\n  } catch (e: any) {\n    await handleError(e)\n  }\n}\n\nexport function _sessionResponse(data: any): AuthResponse {\n  let session = null\n  if (hasSession(data)) {\n    session = { ...data }\n\n    if (!data.expires_at) {\n      session.expires_at = expiresAt(data.expires_in)\n    }\n  }\n\n  const user: User = data.user ?? (data as User)\n  return { data: { session, user }, error: null }\n}\n\nexport function _sessionResponsePassword(data: any): AuthResponsePassword {\n  const response = _sessionResponse(data) as AuthResponsePassword\n\n  if (\n    !response.error &&\n    data.weak_password &&\n    typeof data.weak_password === 'object' &&\n    Array.isArray(data.weak_password.reasons) &&\n    data.weak_password.reasons.length &&\n    data.weak_password.message &&\n    typeof data.weak_password.message === 'string' &&\n    data.weak_password.reasons.reduce((a: boolean, i: any) => a && typeof i === 'string', true)\n  ) {\n    response.data.weak_password = data.weak_password\n  }\n\n  return response\n}\n\nexport function _userResponse(data: any): UserResponse {\n  const user: User = data.user ?? (data as User)\n  return { data: { user }, error: null }\n}\n\nexport function _ssoResponse(data: any): SSOResponse {\n  return { data, error: null }\n}\n\nexport function _generateLinkResponse(data: any): GenerateLinkResponse {\n  const { action_link, email_otp, hashed_token, redirect_to, verification_type, ...rest } = data\n\n  const properties: GenerateLinkProperties = {\n    action_link,\n    email_otp,\n    hashed_token,\n    redirect_to,\n    verification_type,\n  }\n\n  const user: User = { ...rest }\n  return {\n    data: {\n      properties,\n      user,\n    },\n    error: null,\n  }\n}\n\nexport function _noResolveJsonResponse(data: any): Response {\n  return data\n}\n\n/**\n * hasSession checks if the response object contains a valid session\n * @param data A response object\n * @returns true if a session is in the response\n */\nfunction hasSession(data: any): boolean {\n  return data.access_token && data.refresh_token && data.expires_in\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}