{"ast":null,"code":"var _jsxFileName = \"/Users/damonxu/Documents/GitHub/my-projects/auth/src/components/Login.jsx\",\n  _s = $RefreshSig$();\n// src/components/Login.jsx\nimport React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthProvider';\nimport { isValidEmail, validatePassword, formatAuthError } from '../utils/authHelpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onSuccess,\n  redirectTo,\n  className = \"\",\n  showTitle = true\n}) => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [showResetPassword, setShowResetPassword] = useState(false);\n  const {\n    signIn,\n    signUp,\n    resetPassword\n  } = useAuth();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n\n    // 表单验证\n    if (!email || !password) {\n      setMessage('请填写所有必填字段');\n      setLoading(false);\n      return;\n    }\n    if (!isValidEmail(email)) {\n      setMessage('请输入有效的邮箱地址');\n      setLoading(false);\n      return;\n    }\n    if (!isLogin) {\n      if (password !== confirmPassword) {\n        setMessage('两次输入的密码不一致');\n        setLoading(false);\n        return;\n      }\n      const passwordValidation = validatePassword(password);\n      if (!passwordValidation.isValid) {\n        setMessage(passwordValidation.errors.join('、'));\n        setLoading(false);\n        return;\n      }\n    }\n    try {\n      if (isLogin) {\n        // 登录\n        const {\n          error\n        } = await signIn(email, password);\n        if (error) {\n          setMessage(formatAuthError(error));\n        } else {\n          onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n        }\n      } else {\n        // 注册\n        const {\n          data,\n          error\n        } = await signUp(email, password);\n        if (error) {\n          setMessage(formatAuthError(error));\n        } else if (data.user) {\n          setMessage('注册成功！请检查您的邮箱并点击验证链接。');\n        }\n      }\n    } catch (error) {\n      setMessage(`操作失败: ${error.message}`);\n    }\n    setLoading(false);\n  };\n  const handleResetPassword = async e => {\n    e.preventDefault();\n    if (!email) {\n      setMessage('请输入您的邮箱地址');\n      return;\n    }\n    if (!isValidEmail(email)) {\n      setMessage('请输入有效的邮箱地址');\n      return;\n    }\n    setLoading(true);\n    const {\n      error\n    } = await resetPassword(email);\n    if (error) {\n      setMessage(formatAuthError(error));\n    } else {\n      setMessage('密码重置邮件已发送，请检查您的邮箱');\n    }\n    setLoading(false);\n    setShowResetPassword(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 ${className}`,\n    children: [showTitle && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sm:mx-auto sm:w-full sm:max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mt-6 text-center text-3xl font-extrabold text-gray-900\",\n        children: showResetPassword ? '重置密码' : isLogin ? '登录到系统' : '注册新账户'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), !showResetPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-center text-sm text-gray-600\",\n        children: [isLogin ? '还没有账户？' : '已有账户？', /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            setIsLogin(!isLogin);\n            setMessage('');\n          },\n          className: \"font-medium text-blue-600 hover:text-blue-500 ml-1\",\n          children: isLogin ? '立即注册' : '立即登录'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 sm:mx-auto sm:w-full sm:max-w-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\",\n        children: showResetPassword ?\n        /*#__PURE__*/\n        // 密码重置表单\n        _jsxDEV(\"form\", {\n          onSubmit: handleResetPassword,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"\\u90AE\\u7BB1\\u5730\\u5740\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"email\",\n                name: \"email\",\n                type: \"email\",\n                autoComplete: \"email\",\n                required: true,\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: \"\\u8F93\\u5165\\u60A8\\u7684\\u90AE\\u7BB1\\u5730\\u5740\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",\n              children: loading ? '发送中...' : '发送重置邮件'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setShowResetPassword(false);\n                setMessage('');\n              },\n              className: \"text-sm text-blue-600 hover:text-blue-500\",\n              children: \"\\u8FD4\\u56DE\\u767B\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // 登录/注册表单\n        _jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"\\u90AE\\u7BB1\\u5730\\u5740 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"email\",\n                name: \"email\",\n                type: \"email\",\n                autoComplete: \"email\",\n                required: true,\n                value: email,\n                onChange: e => setEmail(e.target.value),\n                className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: \"\\u8F93\\u5165\\u60A8\\u7684\\u90AE\\u7BB1\\u5730\\u5740\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"\\u5BC6\\u7801 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"password\",\n                name: \"password\",\n                type: \"password\",\n                autoComplete: isLogin ? \"current-password\" : \"new-password\",\n                required: true,\n                value: password,\n                onChange: e => setPassword(e.target.value),\n                className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: isLogin ? \"输入密码\" : \"设置密码（至少6位）\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), !isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"confirmPassword\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"\\u786E\\u8BA4\\u5BC6\\u7801 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"confirmPassword\",\n                name: \"confirmPassword\",\n                type: \"password\",\n                autoComplete: \"new-password\",\n                required: true,\n                value: confirmPassword,\n                onChange: e => setConfirmPassword(e.target.value),\n                className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",\n                placeholder: \"\\u518D\\u6B21\\u8F93\\u5165\\u5BC6\\u7801\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-sm p-3 rounded ${message.includes('成功') || message.includes('已发送') ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",\n              children: loading ? isLogin ? '登录中...' : '注册中...' : isLogin ? '登录' : '注册'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setShowResetPassword(true);\n                setMessage('');\n              },\n              className: \"text-sm text-blue-600 hover:text-blue-500\",\n              children: \"\\u5FD8\\u8BB0\\u5BC6\\u7801\\uFF1F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }, this), !isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 text-center\",\n            children: [\"\\u6CE8\\u518C\\u5373\\u8868\\u793A\\u60A8\\u540C\\u610F\\u6211\\u4EEC\\u7684\\u670D\\u52A1\\u6761\\u6B3E\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 35\n            }, this), \"\\u6CE8\\u518C\\u540E\\u9700\\u8981\\u7BA1\\u7406\\u5458\\u5BA1\\u6279\\u624D\\u80FD\\u4F7F\\u7528\\u7CFB\\u7EDF\\u3002\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"EWp5ADwwFpOo9NLc/8sWIMHY5h8=\", false, function () {\n  return [useAuth];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useAuth","isValidEmail","validatePassword","formatAuthError","jsxDEV","_jsxDEV","Login","onSuccess","redirectTo","className","showTitle","_s","isLogin","setIsLogin","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","message","setMessage","showResetPassword","setShowResetPassword","signIn","signUp","resetPassword","handleSubmit","e","preventDefault","passwordValidation","isValid","errors","join","error","data","user","handleResetPassword","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","onSubmit","htmlFor","id","name","autoComplete","required","value","onChange","target","placeholder","disabled","includes","_c","$RefreshReg$"],"sources":["/Users/damonxu/Documents/GitHub/my-projects/auth/src/components/Login.jsx"],"sourcesContent":["// src/components/Login.jsx\nimport React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthProvider';\nimport { isValidEmail, validatePassword, formatAuthError } from '../utils/authHelpers';\n\nconst Login = ({ \n  onSuccess,\n  redirectTo,\n  className = \"\",\n  showTitle = true \n}) => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [showResetPassword, setShowResetPassword] = useState(false);\n\n  const { signIn, signUp, resetPassword } = useAuth();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n\n    // 表单验证\n    if (!email || !password) {\n      setMessage('请填写所有必填字段');\n      setLoading(false);\n      return;\n    }\n\n    if (!isValidEmail(email)) {\n      setMessage('请输入有效的邮箱地址');\n      setLoading(false);\n      return;\n    }\n\n    if (!isLogin) {\n      if (password !== confirmPassword) {\n        setMessage('两次输入的密码不一致');\n        setLoading(false);\n        return;\n      }\n\n      const passwordValidation = validatePassword(password);\n      if (!passwordValidation.isValid) {\n        setMessage(passwordValidation.errors.join('、'));\n        setLoading(false);\n        return;\n      }\n    }\n\n    try {\n      if (isLogin) {\n        // 登录\n        const { error } = await signIn(email, password);\n        if (error) {\n          setMessage(formatAuthError(error));\n        } else {\n          onSuccess?.();\n        }\n      } else {\n        // 注册\n        const { data, error } = await signUp(email, password);\n        if (error) {\n          setMessage(formatAuthError(error));\n        } else if (data.user) {\n          setMessage('注册成功！请检查您的邮箱并点击验证链接。');\n        }\n      }\n    } catch (error) {\n      setMessage(`操作失败: ${error.message}`);\n    }\n\n    setLoading(false);\n  };\n\n  const handleResetPassword = async (e) => {\n    e.preventDefault();\n    if (!email) {\n      setMessage('请输入您的邮箱地址');\n      return;\n    }\n\n    if (!isValidEmail(email)) {\n      setMessage('请输入有效的邮箱地址');\n      return;\n    }\n\n    setLoading(true);\n    const { error } = await resetPassword(email);\n    \n    if (error) {\n      setMessage(formatAuthError(error));\n    } else {\n      setMessage('密码重置邮件已发送，请检查您的邮箱');\n    }\n    \n    setLoading(false);\n    setShowResetPassword(false);\n  };\n\n  return (\n    <div className={`min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 ${className}`}>\n      {showTitle && (\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            {showResetPassword ? '重置密码' : isLogin ? '登录到系统' : '注册新账户'}\n          </h2>\n          {!showResetPassword && (\n            <p className=\"mt-2 text-center text-sm text-gray-600\">\n              {isLogin ? '还没有账户？' : '已有账户？'}\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setIsLogin(!isLogin);\n                  setMessage('');\n                }}\n                className=\"font-medium text-blue-600 hover:text-blue-500 ml-1\"\n              >\n                {isLogin ? '立即注册' : '立即登录'}\n              </button>\n            </p>\n          )}\n        </div>\n      )}\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          {showResetPassword ? (\n            // 密码重置表单\n            <form onSubmit={handleResetPassword} className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                  邮箱地址\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    autoComplete=\"email\"\n                    required\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"输入您的邮箱地址\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                >\n                  {loading ? '发送中...' : '发送重置邮件'}\n                </button>\n              </div>\n\n              <div className=\"text-center\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowResetPassword(false);\n                    setMessage('');\n                  }}\n                  className=\"text-sm text-blue-600 hover:text-blue-500\"\n                >\n                  返回登录\n                </button>\n              </div>\n            </form>\n          ) : (\n            // 登录/注册表单\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                  邮箱地址 *\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    autoComplete=\"email\"\n                    required\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"输入您的邮箱地址\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                  密码 *\n                </label>\n                <div className=\"mt-1\">\n                  <input\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    autoComplete={isLogin ? \"current-password\" : \"new-password\"}\n                    required\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder={isLogin ? \"输入密码\" : \"设置密码（至少6位）\"}\n                  />\n                </div>\n              </div>\n\n              {!isLogin && (\n                <div>\n                  <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700\">\n                    确认密码 *\n                  </label>\n                  <div className=\"mt-1\">\n                    <input\n                      id=\"confirmPassword\"\n                      name=\"confirmPassword\"\n                      type=\"password\"\n                      autoComplete=\"new-password\"\n                      required\n                      value={confirmPassword}\n                      onChange={(e) => setConfirmPassword(e.target.value)}\n                      className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"再次输入密码\"\n                    />\n                  </div>\n                </div>\n              )}\n\n              {message && (\n                <div className={`text-sm p-3 rounded ${message.includes('成功') || message.includes('已发送') \n                  ? 'bg-green-100 text-green-800' \n                  : 'bg-red-100 text-red-800'\n                }`}>\n                  {message}\n                </div>\n              )}\n\n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                >\n                  {loading ? (isLogin ? '登录中...' : '注册中...') : (isLogin ? '登录' : '注册')}\n                </button>\n              </div>\n\n              {isLogin && (\n                <div className=\"text-center\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowResetPassword(true);\n                      setMessage('');\n                    }}\n                    className=\"text-sm text-blue-600 hover:text-blue-500\"\n                  >\n                    忘记密码？\n                  </button>\n                </div>\n              )}\n\n              {!isLogin && (\n                <div className=\"text-xs text-gray-500 text-center\">\n                  注册即表示您同意我们的服务条款。<br />\n                  注册后需要管理员审批才能使用系统。\n                </div>\n              )}\n            </form>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}